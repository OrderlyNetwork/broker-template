import{r as p,j as t}from"./jsx-runtime-CXrgMc3u.js";import{_ as L,M as O,T as Ie,y as q,B as N,D as y,N as be,I as ze,E as le,F as ce,G as At,H as P,J as Re,K as ue,Q as ln,R as cn,V as ge,X as Dt,c as Et,Z as _e,$ as st,a0 as un,g as Vt,a1 as Ft,a2 as dn,a3 as we,n as hn,a4 as Pt,a5 as fn,a6 as mn,a7 as Qe,a8 as Rt,a9 as Bt,aa as Ut,ab as Ht,ac as xn,ad as gn}from"./index-B30QhG-o.js";function pn(e){return Object.prototype.toString.call(e)==="[object Object]"}function kt(e){return pn(e)||Array.isArray(e)}function bn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ot(e,s){const n=Object.keys(e),o=Object.keys(s);if(n.length!==o.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(s.breakpoints||{}));return r!==i?!1:n.every(a=>{const l=e[a],c=s[a];return typeof l=="function"?`${l}`==`${c}`:!kt(l)||!kt(c)?l===c:ot(l,c)})}function Tt(e){return e.concat().sort((s,n)=>s.name>n.name?1:-1).map(s=>s.options)}function vn(e,s){if(e.length!==s.length)return!1;const n=Tt(e),o=Tt(s);return n.every((r,i)=>{const a=o[i];return ot(r,a)})}function rt(e){return typeof e=="number"}function Je(e){return typeof e=="string"}function it(e){return typeof e=="boolean"}function Ot(e){return Object.prototype.toString.call(e)==="[object Object]"}function B(e){return Math.abs(e)}function at(e){return Math.sign(e)}function Ce(e,s){return B(e-s)}function jn(e,s){if(e===0||s===0||B(e)<=B(s))return 0;const n=Ce(B(e),B(s));return B(n/e)}function ke(e){return Te(e).map(Number)}function ee(e){return e[Me(e)]}function Me(e){return Math.max(0,e.length-1)}function lt(e,s){return s===Me(e)}function It(e,s=0){return Array.from(Array(e),(n,o)=>s+o)}function Te(e){return Object.keys(e)}function Kt(e,s){return[e,s].reduce((n,o)=>(Te(o).forEach(r=>{const i=n[r],a=o[r],l=Ot(i)&&Ot(a);n[r]=l?Kt(i,a):a}),n),{})}function et(e,s){return typeof s.MouseEvent<"u"&&e instanceof s.MouseEvent}function yn(e,s){const n={start:o,center:r,end:i};function o(){return 0}function r(c){return i(c)/2}function i(c){return s-c}function a(c,u){return Je(e)?n[e](c):e(s,c,u)}return{measure:a}}function Oe(){let e=[];function s(r,i,a,l={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(i,a,l),c=()=>r.removeEventListener(i,a,l);else{const u=r;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),o}function n(){e=e.filter(r=>r())}const o={add:s,clear:n};return o}function wn(e,s,n,o){const r=Oe(),i=1e3/60;let a=null,l=0,c=0;function u(){r.add(e,"visibilitychange",()=>{e.hidden&&f()})}function m(){b(),r.clear()}function d(v){if(!c)return;a||(a=v);const g=v-a;for(a=v,l+=g;l>=i;)n(),l-=i;const j=B(l/i);o(j),c&&s.requestAnimationFrame(d)}function h(){c||(c=s.requestAnimationFrame(d))}function b(){s.cancelAnimationFrame(c),a=null,l=0,c=0}function f(){a=null,l=0}return{init:u,destroy:m,start:h,stop:b,update:n,render:o}}function Sn(e,s){const n=s==="rtl",o=e==="y",r=o?"y":"x",i=o?"x":"y",a=!o&&n?-1:1,l=m(),c=d();function u(f){const{height:x,width:v}=f;return o?x:v}function m(){return o?"top":n?"right":"left"}function d(){return o?"bottom":n?"left":"right"}function h(f){return f*a}return{scroll:r,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function pe(e=0,s=0){const n=B(e-s);function o(u){return u<e}function r(u){return u>s}function i(u){return o(u)||r(u)}function a(u){return i(u)?o(u)?e:s:u}function l(u){return n?u-n*Math.ceil((u-s)/n):u}return{length:n,max:s,min:e,constrain:a,reachedAny:i,reachedMax:r,reachedMin:o,removeOffset:l}}function $t(e,s,n){const{constrain:o}=pe(0,e),r=e+1;let i=a(s);function a(h){return n?B((r+h)%r):o(h)}function l(){return i}function c(h){return i=a(h),d}function u(h){return m().set(l()+h)}function m(){return $t(e,l(),n)}const d={get:l,set:c,add:u,clone:m};return d}function Nn(e,s,n,o,r,i,a,l,c,u,m,d,h,b,f,x,v,g,j){const{cross:S,direction:I}=e,w=["INPUT","SELECT","TEXTAREA"],z={passive:!1},k=Oe(),_=Oe(),M=pe(50,225).constrain(b.measure(20)),A={mouse:300,touch:400},V={mouse:500,touch:600},D=f?43:25;let U=!1,T=0,F=0,$=!1,G=!1,te=!1,oe=!1;function fe(C){if(!j)return;function E(W){(it(j)||j(C,W))&&Y(W)}const K=s;k.add(K,"dragstart",W=>W.preventDefault(),z).add(K,"touchmove",()=>{},z).add(K,"touchend",()=>{}).add(K,"touchstart",E).add(K,"mousedown",E).add(K,"touchcancel",X).add(K,"contextmenu",X).add(K,"click",je,!0)}function re(){k.clear(),_.clear()}function ve(){const C=oe?n:s;_.add(C,"touchmove",ne,z).add(C,"touchend",X).add(C,"mousemove",ne,z).add(C,"mouseup",X)}function ie(C){const E=C.nodeName||"";return w.includes(E)}function Se(){return(f?V:A)[oe?"mouse":"touch"]}function Ne(C,E){const K=d.add(at(C)*-1),W=m.byDistance(C,!f).distance;return f||B(C)<M?W:v&&E?W*.5:m.byIndex(K.get(),0).distance}function Y(C){const E=et(C,o);oe=E,te=f&&E&&!C.buttons&&U,U=Ce(r.get(),a.get())>=2,!(E&&C.button!==0)&&(ie(C.target)||($=!0,i.pointerDown(C),u.useFriction(0).useDuration(0),r.set(a),ve(),T=i.readPoint(C),F=i.readPoint(C,S),h.emit("pointerDown")))}function ne(C){if(!et(C,o)&&C.touches.length>=2)return X(C);const K=i.readPoint(C),W=i.readPoint(C,S),se=Ce(K,T),Z=Ce(W,F);if(!G&&!oe&&(!C.cancelable||(G=se>Z,!G)))return X(C);const J=i.pointerMove(C);se>x&&(te=!0),u.useFriction(.3).useDuration(.75),l.start(),r.add(I(J)),C.preventDefault()}function X(C){const K=m.byDistance(0,!1).index!==d.get(),W=i.pointerUp(C)*Se(),se=Ne(I(W),K),Z=jn(W,se),J=D-10*Z,me=g+Z/50;G=!1,$=!1,_.clear(),u.useDuration(J).useFriction(me),c.distance(se,!f),oe=!1,h.emit("pointerUp")}function je(C){te&&(C.stopPropagation(),C.preventDefault(),te=!1)}function Q(){return $}return{init:fe,destroy:re,pointerDown:Q}}function Cn(e,s){let o,r;function i(d){return d.timeStamp}function a(d,h){const f=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(et(d,s)?d:d.touches[0])[f]}function l(d){return o=d,r=d,a(d)}function c(d){const h=a(d)-a(r),b=i(d)-i(o)>170;return r=d,b&&(o=d),h}function u(d){if(!o||!r)return 0;const h=a(r)-a(o),b=i(d)-i(o),f=i(d)-i(r)>170,x=h/b;return b&&!f&&B(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function kn(){function e(n){const{offsetTop:o,offsetLeft:r,offsetWidth:i,offsetHeight:a}=n;return{top:o,right:r+i,bottom:o+a,left:r,width:i,height:a}}return{measure:e}}function Tn(e){function s(o){return e*(o/100)}return{measure:s}}function On(e,s,n,o,r,i,a){let l,c,u=[],m=!1;function d(x){return r.measureSize(a.measure(x))}function h(x){if(!i)return;c=d(e),u=o.map(d);function v(j){for(const S of j){const I=S.target===e,w=o.indexOf(S.target),z=I?c:u[w],k=d(I?e:o[w]);if(B(k-z)>=.5){n.requestAnimationFrame(()=>{x.reInit(),s.emit("resize")});break}}}l=new ResizeObserver(j=>{m||(it(i)||i(x,j))&&v(j)}),[e].concat(o).forEach(j=>l.observe(j))}function b(){l&&l.disconnect(),m=!0}return{init:h,destroy:b}}function In(e,s,n,o,r){let i=0,a=0,l=o,c=r,u=e.get(),m=0;function d(){const w=n.get()-e.get(),z=!l;let k=0;return z?(i=0,e.set(n),k=w):(i+=w/l,i*=c,u+=i,e.add(i),k=u-m),a=at(k),m=u,I}function h(){const w=n.get()-s.get();return B(w)<.001}function b(){return l}function f(){return a}function x(){return i}function v(){return j(o)}function g(){return S(r)}function j(w){return l=w,I}function S(w){return c=w,I}const I={direction:f,duration:b,velocity:x,seek:d,settled:h,useBaseFriction:g,useBaseDuration:v,useFriction:S,useDuration:j};return I}function zn(e,s,n,o,r){const i=r.measure(10),a=r.measure(50),l=pe(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(s.get()))}function m(b){if(!u())return;const f=e.reachedMin(s.get())?"min":"max",x=B(e[f]-s.get()),v=n.get()-s.get(),g=l.constrain(x/a);n.subtract(v*g),!b&&B(v)<i&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function d(b){c=!b}return{shouldConstrain:u,constrain:m,toggleActive:d}}function _n(e,s,n,o,r){const i=pe(-s+e,0),a=d(),l=m(),c=h();function u(f,x){return Ce(f,x)<1}function m(){const f=a[0],x=ee(a),v=a.lastIndexOf(f),g=a.indexOf(x)+1;return pe(v,g)}function d(){return n.map((f,x)=>{const{min:v,max:g}=i,j=i.constrain(f),S=!x,I=lt(n,x);return S?g:I||u(v,j)?v:u(g,j)?g:j}).map(f=>parseFloat(f.toFixed(3)))}function h(){if(s<=e+r)return[i.max];if(o==="keepSnaps")return a;const{min:f,max:x}=l;return a.slice(f,x)}return{snapsContained:c,scrollContainLimit:l}}function Mn(e,s,n){const o=s[0],r=n?o-e:ee(s);return{limit:pe(r,o)}}function Ln(e,s,n,o){const i=s.min+.1,a=s.max+.1,{reachedMin:l,reachedMax:c}=pe(i,a);function u(h){return h===1?c(n.get()):h===-1?l(n.get()):!1}function m(h){if(!u(h))return;const b=e*(h*-1);o.forEach(f=>f.add(b))}return{loop:m}}function An(e){const{max:s,length:n}=e;function o(i){const a=i-s;return n?a/-n:0}return{get:o}}function Dn(e,s,n,o,r){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=r,c=d().map(s.measure),u=h(),m=b();function d(){return l(o).map(x=>ee(x)[a]-x[0][i]).map(B)}function h(){return o.map(x=>n[i]-x[i]).map(x=>-B(x))}function b(){return l(u).map(x=>x[0]).map((x,v)=>x+c[v])}return{snaps:u,snapsAligned:m}}function En(e,s,n,o,r,i){const{groupSlides:a}=r,{min:l,max:c}=o,u=m();function m(){const h=a(i),b=!e||s==="keepSnaps";return n.length===1?[i]:b?h:h.slice(l,c).map((f,x,v)=>{const g=!x,j=lt(v,x);if(g){const S=ee(v[0])+1;return It(S)}if(j){const S=Me(i)-ee(v)[0]+1;return It(S,ee(v)[0])}return f})}return{slideRegistry:u}}function Vn(e,s,n,o,r){const{reachedAny:i,removeOffset:a,constrain:l}=o;function c(f){return f.concat().sort((x,v)=>B(x)-B(v))[0]}function u(f){const x=e?a(f):l(f),v=s.map((j,S)=>({diff:m(j-x,0),index:S})).sort((j,S)=>B(j.diff)-B(S.diff)),{index:g}=v[0];return{index:g,distance:x}}function m(f,x){const v=[f,f+n,f-n];if(!e)return f;if(!x)return c(v);const g=v.filter(j=>at(j)===x);return g.length?c(g):ee(v)-n}function d(f,x){const v=s[f]-r.get(),g=m(v,x);return{index:f,distance:g}}function h(f,x){const v=r.get()+f,{index:g,distance:j}=u(v),S=!e&&i(v);if(!x||S)return{index:g,distance:f};const I=s[g]-j,w=f+m(I,0);return{index:g,distance:w}}return{byDistance:h,byIndex:d,shortcut:m}}function Fn(e,s,n,o,r,i,a){function l(d){const h=d.distance,b=d.index!==s.get();i.add(h),h&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),b&&(n.set(s.get()),s.set(d.index),a.emit("select"))}function c(d,h){const b=r.byDistance(d,h);l(b)}function u(d,h){const b=s.clone().set(d),f=r.byIndex(b.get(),h);l(f)}return{distance:c,index:u}}function Pn(e,s,n,o,r,i,a){let l=0;function c(){i.add(document,"keydown",u,!1),s.forEach(m)}function u(h){h.code==="Tab"&&(l=new Date().getTime())}function m(h){const b=()=>{if(new Date().getTime()-l>10)return;e.scrollLeft=0;const v=s.indexOf(h),g=n.findIndex(j=>j.includes(v));rt(g)&&(r.useDuration(0),o.index(g,0),a.emit("slideFocus"))};i.add(h,"focus",b,{passive:!0,capture:!0})}return{init:c}}function Ve(e){let s=e;function n(){return s}function o(c){s=a(c)}function r(c){s+=a(c)}function i(c){s-=a(c)}function a(c){return rt(c)?c:c.get()}return{get:n,set:o,add:r,subtract:i}}function Wt(e,s){const n=e.scroll==="x"?i:a,o=s.style;let r=!1;function i(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function l(d){r||(o.transform=n(e.direction(d)))}function c(d){r=!d}function u(){r||(o.transform="",s.getAttribute("style")||s.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function Rn(e,s,n,o,r,i,a,l,c){const m=ke(r),d=ke(r).reverse(),h=g().concat(j());function b(k,_){return k.reduce((M,A)=>M-r[A],_)}function f(k,_){return k.reduce((M,A)=>b(M,_)>0?M.concat([A]):M,[])}function x(k){return i.map((_,M)=>({start:_-o[M]+.5+k,end:_+s-.5+k}))}function v(k,_,M){const A=x(_);return k.map(V=>{const D=M?0:-n,U=M?n:0,T=M?"end":"start",F=A[V][T];return{index:V,loopPoint:F,slideLocation:Ve(-1),translate:Wt(e,c[V]),target:()=>l.get()>F?D:U}})}function g(){const k=a[0],_=f(d,k);return v(_,n,!1)}function j(){const k=s-a[0]-1,_=f(m,k);return v(_,-n,!0)}function S(){return h.every(({index:k})=>{const _=m.filter(M=>M!==k);return b(_,s)<=.1})}function I(){h.forEach(k=>{const{target:_,translate:M,slideLocation:A}=k,V=_();V!==A.get()&&(M.to(V),A.set(V))})}function w(){h.forEach(k=>k.translate.clear())}return{canLoop:S,clear:w,loop:I,loopPoints:h}}function Bn(e,s,n){let o,r=!1;function i(c){if(!n)return;function u(m){for(const d of m)if(d.type==="childList"){c.reInit(),s.emit("slidesChanged");break}}o=new MutationObserver(m=>{r||(it(n)||n(c,m))&&u(m)}),o.observe(e,{childList:!0})}function a(){o&&o.disconnect(),r=!0}return{init:i,destroy:a}}function Un(e,s,n,o){const r={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(f=>{c||(f.forEach(x=>{const v=s.indexOf(x.target);r[v]=x}),i=null,a=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),s.forEach(f=>l.observe(f))}function m(){l&&l.disconnect(),c=!0}function d(f){return Te(r).reduce((x,v)=>{const g=parseInt(v),{isIntersecting:j}=r[g];return(f&&j||!f&&!j)&&x.push(g),x},[])}function h(f=!0){if(f&&i)return i;if(!f&&a)return a;const x=d(f);return f&&(i=x),f||(a=x),x}return{init:u,destroy:m,get:h}}function Hn(e,s,n,o,r,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=n[0]&&r,m=f(),d=x(),h=n.map(a),b=v();function f(){if(!u)return 0;const j=n[0];return B(s[l]-j[l])}function x(){if(!u)return 0;const j=i.getComputedStyle(ee(o));return parseFloat(j.getPropertyValue(`margin-${c}`))}function v(){return n.map((j,S,I)=>{const w=!S,z=lt(I,S);return w?h[S]+m:z?h[S]+d:I[S+1][l]-j[l]}).map(B)}return{slideSizes:h,slideSizesWithGaps:b,startGap:m,endGap:d}}function Kn(e,s,n,o,r,i,a,l,c){const{startEdge:u,endEdge:m,direction:d}=e,h=rt(n);function b(g,j){return ke(g).filter(S=>S%j===0).map(S=>g.slice(S,S+j))}function f(g){return g.length?ke(g).reduce((j,S,I)=>{const w=ee(j)||0,z=w===0,k=S===Me(g),_=r[u]-i[w][u],M=r[u]-i[S][m],A=!o&&z?d(a):0,V=!o&&k?d(l):0,D=B(M-V-(_+A));return I&&D>s+c&&j.push(S),k&&j.push(g.length),j},[]).map((j,S,I)=>{const w=Math.max(I[S-1]||0);return g.slice(w,j)}):[]}function x(g){return h?b(g,n):f(g)}return{groupSlides:x}}function $n(e,s,n,o,r,i,a){const{align:l,axis:c,direction:u,startIndex:m,loop:d,duration:h,dragFree:b,dragThreshold:f,inViewThreshold:x,slidesToScroll:v,skipSnaps:g,containScroll:j,watchResize:S,watchSlides:I,watchDrag:w}=i,z=2,k=kn(),_=k.measure(s),M=n.map(k.measure),A=Sn(c,u),V=A.measureSize(_),D=Tn(V),U=yn(l,V),T=!d&&!!j,F=d||!!j,{slideSizes:$,slideSizesWithGaps:G,startGap:te,endGap:oe}=Hn(A,_,M,n,F,r),fe=Kn(A,V,v,d,_,M,te,oe,z),{snaps:re,snapsAligned:ve}=Dn(A,U,_,M,fe),ie=-ee(re)+ee(G),{snapsContained:Se,scrollContainLimit:Ne}=_n(V,ie,ve,j,z),Y=T?Se:ve,{limit:ne}=Mn(ie,Y,d),X=$t(Me(Y),m,d),je=X.clone(),Q=ke(n),H=({dragHandler:xe,scrollBody:Ge,scrollBounds:Ye,options:{loop:De}})=>{De||Ye.constrain(xe.pointerDown()),Ge.seek()},C=({scrollBody:xe,translate:Ge,location:Ye,offsetLocation:De,scrollLooper:en,slideLooper:tn,dragHandler:nn,animation:sn,eventHandler:yt,scrollBounds:on,options:{loop:wt}},rn)=>{const St=xe.velocity(),Nt=xe.settled(),an=!on.shouldConstrain(),Ct=wt?Nt:Nt&&an;Ct&&!nn.pointerDown()&&(sn.stop(),yt.emit("settle")),Ct||yt.emit("scroll"),De.set(Ye.get()-St+St*rn),wt&&(en.loop(xe.direction()),tn.loop()),Ge.to(De.get())},E=wn(o,r,()=>H(qe),xe=>C(qe,xe)),K=.68,W=Y[X.get()],se=Ve(W),Z=Ve(W),J=Ve(W),me=In(se,Z,J,h,K),We=Vn(d,Y,ie,ne,J),Xe=Fn(E,X,je,me,We,J,a),bt=An(ne),vt=Oe(),Zt=Un(s,n,a,x),{slideRegistry:jt}=En(T,j,Y,Ne,fe,Q),Jt=Pn(e,n,jt,Xe,me,vt,a),qe={ownerDocument:o,ownerWindow:r,eventHandler:a,containerRect:_,slideRects:M,animation:E,axis:A,dragHandler:Nn(A,e,o,r,J,Cn(A,r),se,E,Xe,me,We,X,a,D,b,f,g,K,w),eventStore:vt,percentOfView:D,index:X,indexPrevious:je,limit:ne,location:se,offsetLocation:Z,options:i,resizeHandler:On(s,a,r,n,A,S,k),scrollBody:me,scrollBounds:zn(ne,Z,J,me,D),scrollLooper:Ln(ie,ne,Z,[se,Z,J]),scrollProgress:bt,scrollSnapList:Y.map(bt.get),scrollSnaps:Y,scrollTarget:We,scrollTo:Xe,slideLooper:Rn(A,V,ie,$,G,re,Y,Z,n),slideFocus:Jt,slidesHandler:Bn(s,a,I),slidesInView:Zt,slideIndexes:Q,slideRegistry:jt,slidesToScroll:fe,target:J,translate:Wt(A,s)};return qe}function Wn(){let e={},s;function n(u){s=u}function o(u){return e[u]||[]}function r(u){return o(u).forEach(m=>m(s,u)),c}function i(u,m){return e[u]=o(u).concat([m]),c}function a(u,m){return e[u]=o(u).filter(d=>d!==m),c}function l(){e={}}const c={init:n,emit:r,off:a,on:i,clear:l};return c}const Xn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function qn(e){function s(i,a){return Kt(i,a||{})}function n(i){const a=i.breakpoints||{},l=Te(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>s(c,u),{});return s(i,l)}function o(i){return i.map(a=>Te(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:s,optionsAtMedia:n,optionsMediaQueries:o}}function Gn(e){let s=[];function n(i,a){return s=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),s.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function o(){s=s.filter(i=>i.destroy())}return{init:n,destroy:o}}function Pe(e,s,n){const o=e.ownerDocument,r=o.defaultView,i=qn(r),a=Gn(i),l=Oe(),c=Wn(),{mergeOptions:u,optionsAtMedia:m,optionsMediaQueries:d}=i,{on:h,off:b,emit:f}=c,x=V;let v=!1,g,j=u(Xn,Pe.globalOptions),S=u(j),I=[],w,z,k;function _(){const{container:H,slides:C}=S;z=(Je(H)?e.querySelector(H):H)||e.children[0];const K=Je(C)?z.querySelectorAll(C):C;k=[].slice.call(K||z.children)}function M(H){const C=$n(e,z,k,o,r,H,c);if(H.loop&&!C.slideLooper.canLoop()){const E=Object.assign({},H,{loop:!1});return M(E)}return C}function A(H,C){v||(j=u(j,H),S=m(j),I=C||I,_(),g=M(S),d([j,...I.map(({options:E})=>E)]).forEach(E=>l.add(E,"change",V)),S.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(),g.eventHandler.init(Q),g.resizeHandler.init(Q),g.slidesHandler.init(Q),g.options.loop&&g.slideLooper.loop(),z.offsetParent&&k.length&&g.dragHandler.init(Q),w=a.init(Q,I)))}function V(H,C){const E=re();D(),A(u({startIndex:E},H),C),c.emit("reInit")}function D(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),l.clear()}function U(){v||(v=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function T(H,C,E){!S.active||v||(g.scrollBody.useBaseFriction().useDuration(C===!0?0:S.duration),g.scrollTo.index(H,E||0))}function F(H){const C=g.index.add(1).get();T(C,H,-1)}function $(H){const C=g.index.add(-1).get();T(C,H,1)}function G(){return g.index.add(1).get()!==re()}function te(){return g.index.add(-1).get()!==re()}function oe(){return g.scrollSnapList}function fe(){return g.scrollProgress.get(g.location.get())}function re(){return g.index.get()}function ve(){return g.indexPrevious.get()}function ie(){return g.slidesInView.get()}function Se(){return g.slidesInView.get(!1)}function Ne(){return w}function Y(){return g}function ne(){return e}function X(){return z}function je(){return k}const Q={canScrollNext:G,canScrollPrev:te,containerNode:X,internalEngine:Y,destroy:U,off:b,on:h,emit:f,plugins:Ne,previousScrollSnap:ve,reInit:x,rootNode:ne,scrollNext:F,scrollPrev:$,scrollProgress:fe,scrollSnapList:oe,scrollTo:T,selectedScrollSnap:re,slideNodes:je,slidesInView:ie,slidesNotInView:Se};return A(s,n),setTimeout(()=>c.emit("init"),0),Q}Pe.globalOptions=void 0;function ct(e={},s=[]){const n=p.useRef(e),o=p.useRef(s),[r,i]=p.useState(),[a,l]=p.useState(),c=p.useCallback(()=>{r&&r.reInit(n.current,o.current)},[r]);return p.useEffect(()=>{if(bn()&&a){Pe.globalOptions=ct.globalOptions;const u=Pe(a,n.current,o.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),p.useEffect(()=>{ot(n.current,e)||(n.current=e,c())},[e,c]),p.useEffect(()=>{vn(o.current,s)||(o.current=s,c())},[s,c]),[l,r]}ct.globalOptions=void 0;var Xt=p.createContext({}),Le=e=>{let[s,n]=p.useState(""),o=p.useCallback(()=>{n("")},[]);return t.jsx(Xt.Provider,{value:{searchValue:s,onSearchValueChange:n,clearSearchValue:o,symbol:e.symbol,onSymbolChange:e.onSymbolChange},children:e.children})};function R(){return p.useContext(Xt)}var Yn=e=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M3.333 12.667h.95L10.8 6.15l-.95-.95-6.517 6.517zM2.667 14a.65.65 0 0 1-.475-.192.65.65 0 0 1-.192-.475v-1.616a1.32 1.32 0 0 1 .383-.934l8.417-8.4q.2-.183.442-.283.24-.1.508-.1.267 0 .517.1.249.1.433.3l.917.933q.2.184.291.434a1.44 1.44 0 0 1 0 1.008 1.25 1.25 0 0 1-.291.442l-8.4 8.4a1.32 1.32 0 0 1-.933.383zm7.65-8.317L9.85 5.2l.95.95z"})})]}),Qn=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M7.205 1.334c-.345 0-.674.136-.918.38L6.001 2H2.667a.667.667 0 1 0 0 1.334h10.667a.667.667 0 1 0 0-1.334h-3.333l-.287-.286a1.3 1.3 0 0 0-.918-.38zM2.911 4.667l1.018 8.842c.088.66.656 1.158 1.322 1.158h5.498c.666 0 1.235-.497 1.323-1.163l1.019-8.837z"})}),Zn=e=>t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"12",height:"12",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 0h12v12H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M8.5 10a.48.48 0 0 1-.356-.144A.48.48 0 0 1 8 9.5V7q0-.213.144-.356A.48.48 0 0 1 8.5 6.5h1q.212 0 .356.144A.48.48 0 0 1 10 7v2.5q0 .212-.144.356A.48.48 0 0 1 9.5 10zm-3 0a.48.48 0 0 1-.356-.144A.48.48 0 0 1 5 9.5v-7q0-.212.144-.356A.48.48 0 0 1 5.5 2h1q.213 0 .356.144A.48.48 0 0 1 7 2.5v7q0 .212-.144.356A.48.48 0 0 1 6.5 10zm-3 0a.48.48 0 0 1-.356-.144A.48.48 0 0 1 2 9.5V5q0-.213.144-.356A.48.48 0 0 1 2.5 4.5h1q.212 0 .356.144A.48.48 0 0 1 4 5v4.5q0 .212-.144.356A.48.48 0 0 1 3.5 10z"})})]}),Jn=e=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M5.993.958a.416.416 0 0 0-.41.422v.416a.416.416 0 1 0 .832 0V1.38a.416.416 0 0 0-.422-.422M2.749 2.29a.416.416 0 0 0-.29.714l.291.292a.416.416 0 1 0 .589-.588l-.292-.292a.42.42 0 0 0-.298-.126m6.489 0a.42.42 0 0 0-.286.126l-.292.292a.416.416 0 1 0 .588.588l.292-.292a.416.416 0 0 0-.302-.714m-3.239.753a2.895 2.895 0 0 0-2.913 2.914A2.86 2.86 0 0 0 4.751 8.58v1.123c0 .458.374.833.832.833h.832a.835.835 0 0 0 .833-.833V8.58a2.86 2.86 0 0 0 1.665-2.622 2.895 2.895 0 0 0-2.914-2.914M1.421 5.541a.416.416 0 1 0 0 .833h.417a.416.416 0 1 0 0-.833zm8.74 0a.416.416 0 1 0 0 .833h.416a.417.417 0 1 0 0-.833zM3.037 8.492a.42.42 0 0 0-.287.126l-.291.292a.416.416 0 1 0 .588.588l.292-.292a.416.416 0 0 0-.302-.714m5.913 0a.416.416 0 0 0-.29.714l.292.292a.416.416 0 1 0 .588-.588l-.292-.292a.42.42 0 0 0-.298-.126"})}),Be=e=>t.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"21",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 .5h20v20H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"m10 14.074-3.2 1.913a.6.6 0 0 1-.332.068.6.6 0 0 1-.277-.101.5.5 0 0 1-.186-.256.5.5 0 0 1-.005-.336l.84-3.556-2.82-2.394a.5.5 0 0 1-.174-.281.6.6 0 0 1 .013-.315.5.5 0 0 1 .173-.252.55.55 0 0 1 .305-.112l3.693-.33 1.467-3.393a.57.57 0 0 1 .211-.255A.54.54 0 0 1 10 4.39q.16 0 .292.083.131.082.211.255l1.467 3.414 3.693.309q.178.014.305.123.126.11.173.262t.002.304a.56.56 0 0 1-.183.27l-2.8 2.395.84 3.556a.5.5 0 0 1-.005.336.5.5 0 0 1-.186.256.6.6 0 0 1-.277.101.6.6 0 0 1-.332-.068z"})})]}),tt=e=>t.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"21",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 .5h20v20H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M7.333 14.396 10 12.813l2.688 1.583-.709-3 2.313-1.98-3.063-.27L10 6.292 8.77 9.146l-3.062.27 2.334 1.98zM10 14.074l-3.2 1.913a.6.6 0 0 1-.332.068.6.6 0 0 1-.277-.101.5.5 0 0 1-.186-.256.5.5 0 0 1-.005-.336l.84-3.556-2.82-2.394a.5.5 0 0 1-.174-.281.6.6 0 0 1 .013-.315.5.5 0 0 1 .173-.252.55.55 0 0 1 .305-.112l3.693-.33 1.467-3.393a.57.57 0 0 1 .211-.255A.54.54 0 0 1 10 4.39q.16 0 .292.083.131.082.211.255l1.467 3.414 3.693.309q.178.014.305.123.126.11.173.262t.002.304a.56.56 0 0 1-.183.27l-2.8 2.395.84 3.556a.5.5 0 0 1-.005.336.5.5 0 0 1-.186.256.6.6 0 0 1-.277.101.6.6 0 0 1-.332-.068z"})})]}),Ae=e=>t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M5.841 1.14a4.667 4.667 0 0 0 0 9.333 4.74 4.74 0 0 0 2.875-.975l2.54 2.56a.6.6 0 0 0 .838 0 .6.6 0 0 0 0-.838L9.537 8.677a4.72 4.72 0 0 0 .971-2.871 4.667 4.667 0 0 0-4.667-4.667m0 1.166a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7"})}),es=e=>t.jsx("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M10 5.5a.76.76 0 0 0-.583.25l-4.334 4c0 .083-.083.25-.083.333 0 .25.167.417.417.417h2.916v6.667c0 .416.334.833.834.833h1.666c.5 0 .834-.417.834-.833V10.5h2.916c.25 0 .417-.167.417-.417 0-.083-.083-.25-.083-.333l-4.25-4.084c-.25-.083-.417-.166-.667-.166M2.177 3.06A.8.8 0 0 1 2.5 3h15a.834.834 0 1 1 0 1.667h-15a.833.833 0 0 1-.323-1.607"})}),qt=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.015.34h-.029a5.98 5.98 0 0 0-3.93 1.477c-.074.065-.027.184.072.184h7.745c.099 0 .146-.119.072-.184A5.98 5.98 0 0 0 6.015.341M3.48 7.866a.23.23 0 0 1 .187.1A2.85 2.85 0 0 0 6 9.178a2.85 2.85 0 0 0 2.334-1.213.23.23 0 0 1 .186-.1h3.104c.09 0 .155.086.13.172A6 6 0 0 1 6 12.327a6 6 0 0 1-5.755-4.29.134.134 0 0 1 .13-.172zM8.26 4.6a.29.29 0 0 0 .229.116h3.11c.09 0 .156-.086.13-.173a6 6 0 0 0-1.106-2.03.22.22 0 0 0-.165-.077H1.543a.22.22 0 0 0-.165.077 6 6 0 0 0-1.105 2.03.134.134 0 0 0 .13.173h3.11A.29.29 0 0 0 3.74 4.6 2.85 2.85 0 0 1 6 3.488c.92 0 1.738.436 2.26 1.112m.414 2.717c-.02.055.02.115.079.115h3.033a.135.135 0 0 0 .133-.112 6 6 0 0 0-.015-2.058.135.135 0 0 0-.133-.11H8.72c-.06 0-.1.061-.078.117a2.83 2.83 0 0 1 .032 2.048m-5.427.115c.06 0 .1-.06.079-.115a2.84 2.84 0 0 1 .032-2.048.085.085 0 0 0-.078-.118H.23a.135.135 0 0 0-.134.11A6 6 0 0 0 .08 7.32c.01.065.067.112.133.112z"})}),ut=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.012 1.72c-.286 0-.577.178-.75.532L4.2 4.438l-2.42.344c-.78.108-1.03.872-.47 1.42l1.75 1.703-.407 2.39c-.133.773.508 1.24 1.203.874.268-.142 1.648-.857 2.155-1.124l2.155 1.124c.695.367 1.339-.1 1.202-.874l-.421-2.39 1.749-1.702c.565-.547.326-1.31-.453-1.421l-2.436-.344L6.76 2.252c-.172-.354-.464-.531-.75-.531"})}),dt=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.012 1.72c-.286 0-.577.178-.75.532L4.2 4.438l-2.42.344c-.78.108-1.03.872-.47 1.42l1.75 1.703-.407 2.39c-.133.773.508 1.24 1.203.874.268-.142 1.648-.857 2.155-1.124l2.155 1.124c.695.367 1.339-.1 1.202-.874l-.421-2.39 1.749-1.702c.565-.547.326-1.31-.453-1.421l-2.436-.344L6.76 2.252c-.172-.354-.464-.531-.75-.531m0 1.297 1.03 2.108c.073.15.211.242.375.266l2.343.343-1.702 1.64a.48.48 0 0 0-.14.437l.405 2.312L6.246 9.03a.5.5 0 0 0-.468 0L3.7 10.123l.39-2.296a.52.52 0 0 0-.14-.453l-1.687-1.64 2.327-.328a.52.52 0 0 0 .39-.28z"})}),ht=e=>t.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M2.01 2.915a.667.667 0 1 0 0 1.334h12a.667.667 0 0 0 0-1.334zM7.343 13.59a.667.667 0 0 0 1.333 0V7.88l2 1.98.937-.938L8.49 5.777a.686.686 0 0 0-.959 0L4.405 8.923l.938.937 2-1.979z"})}),ft=e=>t.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M4.67 2.203A2.667 2.667 0 0 0 2.005 4.87v6.667a2.667 2.667 0 0 0 2.667 2.666h6.666a2.667 2.667 0 0 0 2.667-2.666V4.87a2.667 2.667 0 0 0-2.667-2.667zm1.334 3.334c.17 0 .349.057.48.187l1.52 1.52 1.52-1.52a.68.68 0 0 1 .48-.187c.17 0 .349.057.48.187.26.26.26.698 0 .959l-1.521 1.52 1.52 1.52c.26.262.26.699 0 .96a.687.687 0 0 1-.958 0L8.004 9.162l-1.52 1.52a.687.687 0 0 1-.96 0 .687.687 0 0 1 0-.958l1.521-1.52-1.52-1.521a.687.687 0 0 1 0-.96.68.68 0 0 1 .479-.186"})}),ts=e=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{d:"M0 0h16v16H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M7.333 8.667h-4V7.333h4v-4h1.333v4h4v1.334h-4v4H7.333z"})})]}),ns=e=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:[t.jsx("path",{d:"M5.99536 1.46487C5.71936 1.46487 5.49536 1.68887 5.49536 1.96487V5.46487H1.99536C1.71936 5.46487 1.49536 5.68887 1.49536 5.96487C1.49536 6.24087 1.71936 6.46487 1.99536 6.46487H5.49536V9.96487C5.49536 10.2409 5.71936 10.4649 5.99536 10.4649C6.27136 10.4649 6.49536 10.2409 6.49536 9.96487V6.46487H9.99536C10.2714 6.46487 10.4954 6.24087 10.4954 5.96487C10.4954 5.68887 10.2714 5.46487 9.99536 5.46487H6.49536V1.96487C6.49536 1.68887 6.27136 1.46487 5.99536 1.46487Z",fill:"url(#paint0_linear_1951_55156)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"paint0_linear_1951_55156",x1:"10.4954",y1:"5.96487",x2:"1.49536",y2:"5.96487",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"rgb(var(--oui-gradient-brand-end))"}),t.jsx("stop",{offset:"1",stopColor:"rgb(var(--oui-gradient-brand-start))"})]})})]}),ss=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.326 8.826a.84.84 0 0 0-.6.234L2.16 12.627v-2.135H.492v4.167c0 .46.373.833.834.833h4.166v-1.667H3.357l3.567-3.567a.857.857 0 0 0 0-1.198.84.84 0 0 0-.598-.234M10.502.492V2.16h2.135L9.07 5.726a.857.857 0 0 0 0 1.199.86.86 0 0 0 1.197 0l3.568-3.568v2.135h1.667V1.326a.834.834 0 0 0-.834-.834z"})}),os=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M14.668.492a.85.85 0 0 0-.599.234l-3.567 3.568V2.159H8.835v4.167c0 .46.373.833.833.833h4.167V5.492H11.7l3.569-3.567a.86.86 0 0 0 0-1.199.85.85 0 0 0-.6-.234m-12.5 8.334v1.666h2.135L.736 14.06a.86.86 0 0 0 0 1.198.86.86 0 0 0 1.198 0l3.568-3.567v2.134h1.666V9.66a.834.834 0 0 0-.833-.833z"})}),Gt=e=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M3.003 3.998a.494.494 0 0 0-.39.797l3 4c.2.266.597.266.797 0l3-4a.5.5 0 0 0-.407-.797z"})}),rs=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M9.186 3.348a.67.67 0 0 0-.436.27l-2.657 4a.69.69 0 0 0 0 .75l2.657 4a.68.68 0 0 0 .934.188.685.685 0 0 0 .187-.937L7.463 7.993 9.87 4.37a.685.685 0 0 0-.187-.938.65.65 0 0 0-.498-.083"})}),is=e=>{let{emblaRef:s,emblaApi:n,scrollIndex:o,enableScroll:r,news:i,gainers:a,losers:l,total24Amount:c,totalOpenInterest:u,tvl:m,favorite:d}=e,{onSymbolChange:h}=R(),b=O("oui-flex-[0_0_calc((100%_-_32px)_/_3)] 3xl:oui-flex-[0_0_calc((100%_-_48px)_/_4)] oui-min-w-0",r&&"oui-select-none oui-cursor-pointer"),f=x=>{h==null||h(x),d.addToHistory(x)};return t.jsxs("div",{id:"oui-markets-header",className:"oui-overflow-hidden",ref:r?s:void 0,children:[t.jsxs(N,{width:"100%",gapX:4,mt:4,children:[t.jsx(as,{total24Amount:c,totalOpenInterest:u,tvl:m,className:b}),t.jsx(Ze,{data:i,title:t.jsx(y.gradient,{color:"brand",children:"New listings"}),className:b,onSymbol:f}),t.jsx(Ze,{data:a,title:t.jsx(y,{className:"oui-text-success-light",children:"Top gainers"}),className:b,onSymbol:f}),t.jsx(Ze,{data:l,title:t.jsx(y,{className:"oui-text-danger-light",children:"Top losers"}),className:b,onSymbol:f})]}),t.jsx("div",{className:"oui-mt-1 oui-mb-3  3xl:oui-mt-4 3xl:oui-mb-0",children:t.jsx(us,{scrollIndex:o,scrollPrev:n==null?void 0:n.scrollPrev,scrollNext:n==null?void 0:n.scrollNext})})]})},as=e=>{let{total24Amount:s,totalOpenInterest:n,tvl:o}=e,r=p.useMemo(()=>[{label:t.jsxs(N,{gapX:1,children:[t.jsx(qt,{})," 24h volume"]}),value:s},{label:"Open interest",value:n},{label:"Assets (TVL)",value:o}],[s,n,o]);return t.jsx(N,{direction:"column",justify:"between",width:"100%",height:236,className:e.className,children:r==null?void 0:r.map((i,a)=>t.jsx(ls,{...i},a))})},ls=e=>t.jsxs(L,{intensity:900,r:"lg",px:4,py:3,width:"100%",children:[t.jsx(y,{as:"div",intensity:36,size:"xs",weight:"semibold",children:e.label}),t.jsx(y.numeral,{size:"base",currency:"$",dp:e.dp||0,rm:P.ROUND_DOWN,rule:e.rule,children:e.value})]}),Ze=e=>{var s;return t.jsxs(L,{intensity:900,r:"lg",py:4,pb:2,height:236,className:e.className,children:[t.jsx(L,{px:4,children:t.jsx(y.gradient,{color:"brand",size:"sm",weight:"semibold",children:e.title})}),t.jsx(N,{direction:"column",itemAlign:"start",mt:2,children:(s=e.data)==null?void 0:s.map((n,o)=>t.jsx(cs,{item:n,onSymbol:e.onSymbol},n.symbol))})]})},cs=e=>{let{item:s}=e;return t.jsxs(N,{width:"100%",gapX:3,py:2,px:4,className:O("hover:oui-bg-base-8 oui-cursor-pointer",e.className),onClick:()=>{e.onSymbol(s)},children:[t.jsx(N,{width:"100%",gapX:1,children:t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"xs",weight:"semibold",showIcon:!0,children:s.symbol})}),t.jsx(N,{width:"100%",justify:"end",children:t.jsx(y.numeral,{currency:"$",size:"xs",weight:"semibold",dp:s.quote_dp,children:s["24h_close"]})}),t.jsx(N,{width:"100%",justify:"end",children:t.jsx(y.numeral,{rule:"percentages",coloring:!0,size:"xs",weight:"semibold",showIdentifier:!0,children:s.change})})]})},us=e=>{let{scrollIndex:s,scrollPrev:n,scrollNext:o}=e;return t.jsx(N,{gapX:1,justify:"center",className:"3xl:oui-hidden",children:[0,1].map(r=>t.jsx(L,{py:1,pl:r===0?1:0,pr:r===1?1:0,onClick:()=>{s===0&&r===1?o==null||o():s===1&&r===0&&(n==null||n())},className:"oui-cursor-pointer",children:t.jsx(L,{width:8,height:4,r:"full",className:O("oui-transition-all oui-duration-300",s===r?"oui-bg-base-contrast-36 oui-w-4":"oui-bg-base-contrast-20")},r)},r))})};function Fe(e,s,n){let o=[...e||[]],r=i=>i==null;return s&&n&&o.sort((i,a)=>{let l=i[s],c=a[s];return r(l)?1:r(c)?-1:n==="desc"?c-l:l-c}),o}function de(e,s,n){let[o,r]=p.useState(),[i,a]=p.useState(),l=p.useCallback(d=>{r(d==null?void 0:d.sortKey),a(d==null?void 0:d.sort),n==null||n(d==null?void 0:d.sortKey,d==null?void 0:d.sort)},[n]),c=o||e,u=i||s,m=p.useCallback(d=>Fe(d,c,u),[c,u]);return{onSort:l,getSortedList:m,sortKey:c,sortOrder:u}}function he(e,s=""){let n=new RegExp(s,"i");return e==null?void 0:e.filter(o=>n.test(o.symbol))}function ds(){let[e,s]=p.useState(0),[n,o]=p.useState(0);return p.useEffect(()=>{s(window.innerWidth),o(window.innerHeight);let r=()=>{o(window.innerHeight),s(window.innerWidth)};return window==null||window.addEventListener("resize",r),()=>{window==null||window.removeEventListener("resize",r)}},[]),{width:e,height:n}}var hs=()=>{let[e,s]=p.useState(0),n=fs(),{width:o}=ds(),[r,i]=ct({loop:!0,slidesToScroll:"auto"});return p.useEffect(()=>{i==null||i.on("select",()=>{s(i==null?void 0:i.selectedScrollSnap())})},[i]),{scrollIndex:e,setScrollIndex:s,emblaRef:r,emblaApi:i,enableScroll:o<1440,...n}};function fs(){let[e,s]=le(ce.ALL),{data:n}=At("/v1/public/balance/stats"),o=p.useMemo(()=>Fe(e,"created_time","desc").slice(0,5),[e]),r=p.useMemo(()=>Fe(e,"change","desc").slice(0,5),[e]),i=p.useMemo(()=>Fe(e,"change","asc").slice(0,5),[e]),a=p.useMemo(()=>(e==null?void 0:e.reduce((u,m)=>u.add(m["24h_amount"]||0),new P(0)))||new P(0),[e]),l=p.useMemo(()=>(e==null?void 0:e.reduce((u,m)=>u.add(m.openInterest||0),new P(0)))||new P(0),[e]),c=p.useMemo(()=>{if(n){let{total_holding:u=0,total_unsettled_balance:m=0}=n;return new P(u).plus(m).toNumber()}},[n]);return{markets:e,news:o,gainers:r,losers:i,total24Amount:a.toNumber(),totalOpenInterest:l.toNumber(),tvl:c,favorite:s}}var ms=()=>{let e=hs();return t.jsx(is,{...e})},xs=e=>{var I;let{symbol:s,favoriteTabs:n,open:o,onOpenChange:r,inputVisible:i,selectedTabs:a,value:l,onValueChange:c,hide:u,hideInput:m,showInput:d,onCheck:h,addTab:b,confirm:f}=e,x=(l==null?void 0:l.length)>15,v=()=>{if(i)return t.jsxs(L,{children:[t.jsxs(N,{gapX:2,children:[t.jsx(be,{autoFocus:!0,value:l,onValueChange:c,classNames:{root:O("oui-bg-base-6 oui-h-7 oui-w-full oui-ml-[1px] oui-rounded-sm",x&&"focus-visible:oui-outline-danger focus-within:oui-outline-danger")},autoComplete:"off",suffix:l&&t.jsx(L,{mr:2,children:t.jsx(ze,{opacity:1,size:14,className:"oui-text-base-contrast-20 oui-cursor-pointer",onClick:()=>{c("")}})})}),t.jsx(Qe,{className:"oui-rounded-sm",size:"sm",onClick:b,disabled:!l||x,children:"Add"})]}),x&&t.jsxs(N,{itemAlign:"center",gapX:1,mt:1,children:[t.jsx("div",{className:"oui-h-1 oui-w-1 oui-bg-danger oui-rounded-full"}),t.jsx(y,{color:"danger",children:"List name cannot exceed 15 characters"})]})]});let w=n.length>=10;return t.jsx(ge,{open:w?void 0:!1,content:t.jsx(y,{size:"2xs",intensity:80,children:"Maximum 10 groups in the favorite list"}),className:"oui-bg-base-6",delayDuration:0,arrow:{className:"oui-fill-base-6"},children:t.jsx("div",{children:t.jsxs(N,{className:O(w?"oui-cursor-not-allowed":"oui-cursor-pointer"),itemAlign:"center",gapX:2,p:2,intensity:w?500:600,onClick:w?void 0:d,height:28,r:"base",children:[t.jsx(xn,{size:14,className:"oui-text-base-contrast-36",opacity:1}),t.jsx(y,{className:"",intensity:20,children:"Add a new watchlist"})]})})})},g=t.jsxs(N,{justify:"between",className:"oui-mt-3 oui-mb-[10px]",children:[t.jsxs(N,{gapX:1,children:["Select lists for",t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"base",showIcon:!0,children:s})]}),t.jsx(Pt,{size:16,className:"oui-text-base-contrast oui-cursor-pointer",onClick:u})]}),j=t.jsxs(L,{children:[t.jsx(L,{my:2,className:"oui-max-h-[288px] oui-overflow-y-auto oui-custom-scrollbar",children:(I=n==null?void 0:n.slice(0,10))==null?void 0:I.map(w=>{let z=!!a.find(k=>k.id===w.id);return t.jsx(L,{className:"oui-cursor-pointer",children:t.jsxs(N,{className:"oui-gap-x-[6px] hover:oui-bg-base-6",p:2,r:"md",onClick:()=>{h(w,z)},children:[z?t.jsx(fn,{size:18,className:"oui-text-base-contrast-80"}):t.jsx(mn,{size:18,className:"oui-text-base-contrast-80"}),t.jsx(y,{intensity:54,children:w.name})]})},w.id)})}),t.jsx(L,{mt:3,pb:5,children:v()})]}),S=t.jsxs(N,{gapX:3,mt:3,children:[t.jsx(Qe,{color:"gray",onClick:u,fullWidth:!0,className:"oui-text-sm",size:"md",children:"Cancel"},"secondary"),t.jsx(Qe,{onClick:f,fullWidth:!0,className:"oui-text-sm",size:"md",children:"Confirm"},"primary")]});return t.jsxs(Rt,{open:o,onOpenChange:r,children:[t.jsx(Bt,{asChild:!0,children:e.children}),t.jsx(Ut,{children:t.jsx(Ht,{onCloseAutoFocus:w=>w.preventDefault(),onClick:w=>w.stopPropagation(),align:"start",alignOffset:-12,sideOffset:24,className:"oui-markets-favorite-dropdown-menu-content oui-bg-base-8",children:t.jsx(L,{px:5,pb:5,width:360,children:t.jsxs(y,{as:"div",size:"sm",weight:"semibold",children:[g,t.jsx(st,{}),j,S]})})})})]})};function gs(e){let{symbol:s}=e.row||{},{favorites:n,favoriteTabs:o,updateFavoriteTabs:r,updateSymbolFavoriteState:i}=e.favorite,[a,l]=p.useState(!1),[c,u]=p.useState(!1),[m,d]=p.useState(""),[h,b]=p.useState([]),f=()=>{l(!1)},x=()=>{u(!0)},v=()=>{u(!1)},g=()=>{d(""),v(),b([])},j=()=>{let w={name:m||`WatchList_${o.length}`,id:Date.now()};r(w,{add:!0}),g()},S=(w,z)=>{b(z?h==null?void 0:h.filter(k=>k.id!==w.id):[...h,w]),v()},I=()=>{i(e.row,h,!1),l(!1)};return p.useEffect(()=>{var z;if(!a)return;let w=n==null?void 0:n.find(k=>k.name===s);(z=w==null?void 0:w.tabs)!=null&&z.length&&b(w==null?void 0:w.tabs)},[a,n,o,s]),p.useEffect(()=>{a||g()},[a]),{symbol:s,favoriteTabs:o,open:a,onOpenChange:l,inputVisible:c,selectedTabs:h,value:m,onValueChange:d,hide:f,hideInput:v,showInput:x,onCheck:S,addTab:j,confirm:I}}var Ue=e=>{let s=gs(e);return t.jsx(xs,{...s,children:e.children})},Yt=(e,s=!1)=>p.useMemo(()=>[{title:t.jsx(tt,{className:"oui-mt-1"}),dataIndex:"isFavorite",align:"center",width:30,render:(n,o)=>{let r=t.jsx(N,{width:"100%",height:"100%",mr:3,justify:"center",itemAlign:"center",onClick:s?i=>{e.updateSymbolFavoriteState(o,e.selectedFavoriteTab,!0),i.stopPropagation()}:void 0,"data-testid":"oui-testid-markets-table-row-favorite-icon",children:n?t.jsx(Be,{className:"oui-text-[rgba(255,154,46,1)]"}):t.jsx(tt,{className:"oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})});return s?r:t.jsx(Ue,{row:o,favorite:e,children:r})}},{title:"Market",dataIndex:"symbol",width:90,render:n=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:n})},{title:"Price",dataIndex:"24h_close",width:100,align:"right",onSort:!0,render:(n,o)=>t.jsx(y.numeral,{dp:o.quote_dp||2,currency:"$",children:n})},{title:"24h change",dataIndex:"change",width:100,align:"right",onSort:!0,render:n=>t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:n})},{title:t.jsxs(N,{gapX:1,children:[t.jsx(qt,{})," 24h volume"]}),dataIndex:"24h_amount",width:100,align:"right",onSort:!0,render:n=>t.jsx(y.numeral,{currency:"$",dp:0,rm:P.ROUND_DOWN,children:n})},{title:"Open interest",dataIndex:"openInterest",width:100,align:"right",onSort:!0,render:n=>t.jsx(y.numeral,{currency:"$",dp:0,rm:P.ROUND_DOWN,children:n})},{title:"8h funding",dataIndex:"8h_funding",width:100,align:"right",onSort:!0,render:n=>n===null?"--":t.jsx(y.numeral,{rule:"percentages",coloring:!0,dp:4,rm:P.ROUND_DOWN,showIdentifier:!0,children:n})},{dataIndex:"action",type:"action",width:40,render:(n,o)=>s?t.jsx(N,{justify:"end",mr:4,children:t.jsx(ge,{content:"Move to top",align:"center",delayDuration:0,children:t.jsx(L,{className:"oui-hidden group-hover:oui-block oui-cursor-pointer",onClick:r=>{r.stopPropagation(),e.pinToTop(o)},"data-testid":"oui-markets-favorites-pinned-icon",children:t.jsx(es,{className:"oui-text-base-contrast-20 hover:oui-text-base-contrast"})})})}):null}],[e,s]),ps=e=>{let{loading:s,dataSource:n,favorite:o,onSort:r,initialSort:i,type:a,pagination:l}=e,{symbol:c,onSymbolChange:u}=R(),m=Yt(o,!1);return t.jsx(ue,{bordered:!0,columns:m,loading:s,dataSource:n,onRow:(d,h)=>({className:O("oui-h-[55px] oui-cursor-pointer"),onClick:()=>{u==null||u(d),o.addToHistory(d)},"data-testid":`oui-testid-markets-${a==="new"?"newListing":"all"}-tr-${d.symbol}`}),generatedRowKey:d=>d.symbol,rowSelection:{[c]:!0},onSort:r,initialSort:i,pagination:l,classNames:{header:"oui-h-12"},manualSorting:!0})},bs=e=>{let[s,n]=p.useState(!0),{setPage:o,pagination:r}=Re({pageSize:10}),[i,a]=le(ce.ALL),{searchValue:l}=R(),{onSort:c,getSortedList:u,sortKey:m,sortOrder:d}=de(e==null?void 0:e.sortKey,e==null?void 0:e.sortOrder),h=p.useMemo(()=>{let b=u(i);return he(b,l)},[i,u,l]);return p.useEffect(()=>{n(!1)},[i]),p.useEffect(()=>{o(1)},[l]),p.useEffect(()=>{e.type==="all"&&a.updateTabsSortState("all",m,d)},[m,d,e.type]),{loading:s,dataSource:h,favorite:a,onSort:c,pagination:r}},zt=e=>{var o;let s=bs(e),n=e.type==="all"?(o=s.favorite.tabSort)==null?void 0:o.all:void 0;return t.jsx(ps,{...s,type:e.type,initialSort:{sortKey:(n==null?void 0:n.sortKey)||e.sortKey,sort:(n==null?void 0:n.sortOrder)||e.sortOrder}})},vs=e=>{var U;let{open:s,setOpen:n,container:o,inputRef:r,inputWidth:i,spanRef:a,editing:l,value:c,onValueChange:u,updateCurTab:m,onEdit:d,addTab:h,delTab:b,size:f="default",scrollable:x}=e,{selectedFavoriteTab:v,favoriteTabs:g,updateSelectedFavoriteTab:j}=e.favorite,S=f==="sm"?28:36,I=f==="sm"?18:24,w=(c==null?void 0:c.length)>15,z="oui-bg-gradient-to-r oui-from-[rgb(var(--oui-gradient-brand-start)_/_0.12)] oui-to-[rgb(var(--oui-gradient-brand-end)_/_0.12)]",k=T=>{gn.confirm({title:"Delete list",content:t.jsx(y,{size:"sm",children:`Are you sure you want to delete ${T.name}?`}),onOk(){return b(T),Promise.resolve()}})},_=T=>{T.key==="Enter"&&m(w)},M=T=>t.jsxs(N,{gapX:2,itemAlign:"center",px:2,py:1,children:[t.jsx(Yn,{className:"oui-text-base-contrast-36 hover:oui-text-base-contrast oui-cursor-pointer",onClick:()=>{d(T)}}),t.jsx(Qn,{className:"oui-text-base-contrast-36 hover:oui-text-base-contrast oui-cursor-pointer",onClick:()=>{k(T)}})]}),A=()=>{let T=g.length>=10,F=t.jsx(N,{className:O("oui-inline-flex",T?"oui-cursor-not-allowed":"oui-cursor-pointer",T?"oui-bg-base-3":z),width:S,height:I,r:"base",justify:"center",itemAlign:"center",onClick:T?void 0:h,children:T?t.jsx(ts,{className:"oui-text-base-contrast-54 oui-w-3 oui-h-3 oui-z-[1]"}):t.jsx(ns,{className:"oui-w-3 oui-h-3"})});return T?t.jsx(ge,{content:t.jsx(y,{size:"2xs",intensity:80,children:"Maximum 10 groups in the favorite list"}),className:"oui-bg-base-6",delayDuration:0,arrow:{className:"oui-fill-base-6"},children:F}):F},V=T=>t.jsx(ge,{open:w,content:t.jsx(y,{size:"2xs",intensity:80,children:"List name cannot exceed 15 characters"}),className:"oui-bg-base-6",delayDuration:0,sideOffset:0,children:t.jsx(be,{ref:r,style:w?{width:i}:{"--oui-gradient-angle":"270deg",backgroundClip:"text",WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",width:i},classNames:{root:O("oui-p-0 oui-rounded oui-px-2 oui-my-[1px]","focus-visible:oui-outline-none focus-within:oui-outline-transparent",f==="sm"?"oui-h-[18px]":"oui-h-[24px]",T&&O(w?"oui-bg-danger/15":z)),input:O("oui-font-semibold oui-caret-[rgba(217,217,217,1)]",w?"oui-text-danger":"oui-text-transparent oui-gradient-brand ",f==="sm"?"oui-text-2xs":"oui-text-sm")},value:c,onValueChange:u,onBlur:()=>{m(w)},onKeyUp:_,autoComplete:"off"})}),D=(T,F)=>{if(l&&F)return V(F);let $={weight:"semibold",size:f==="sm"?"2xs":"sm",className:f==="sm"?"oui-leading-[18px]":"oui-leading-[24px]",as:"div"},G=F?t.jsx(y.gradient,{color:"brand",angle:270,...$,children:T.name}):t.jsx(y,{...$,children:T.name});return t.jsx(L,{r:"base",px:2,height:I,className:O("oui-cursor-pointer oui-select-none",F?"oui-markets-favorites-active-tab-item":"oui-markets-favorites-tab-item",F?z:"oui-bg-line-6 oui-text-base-contrast-36 hover:oui-text-base-contrast"),onClick:()=>{j(T),F&&n(!0)},children:G})};return t.jsxs(N,{width:"100%",gapX:3,className:e.className,children:[t.jsxs(N,{ref:o,id:"oui-markets-favorites-tabs-container",className:O("oui-relative oui-cursor-pointer oui-hide-scrollbar","oui-overflow-hidden oui-overflow-x-auto"),gapX:f==="sm"?2:3,width:"100%",children:[(U=g==null?void 0:g.slice(0,10))==null?void 0:U.map(T=>{let F=v.id===T.id;return t.jsx(ge,{open:F&&!l?s:!1,onOpenChange:$=>{F&&n($)},content:M(T),delayDuration:0,className:O("oui-bg-base-5"),arrow:{className:"oui-fill-base-5"},children:D(T,F)},T.id)}),!x&&A(),t.jsx(y,{size:"xs",ref:a,className:"oui-invisible",children:c})]}),x&&A()]})};function js(e){let{favorite:s,size:n="default"}=e,{favorites:o,favoriteTabs:r,selectedFavoriteTab:i,updateFavoriteTabs:a,updateSelectedFavoriteTab:l,updateFavorites:c}=s,[u,m]=p.useState(!1),[d,h]=p.useState(!1),[b,f]=p.useState(""),[x,v]=p.useState(!1),g=p.useRef(null),j=p.useRef(null),S=p.useRef(null),[I,w]=p.useState(50),z=()=>{setTimeout(()=>{let{scrollWidth:D,clientWidth:U}=g.current||{};D>U&&v(!0)},0)},k=()=>{setTimeout(()=>{g.current&&(g.current.scrollLeft=g.current.scrollWidth-g.current.clientWidth)},0)},_=D=>{h(!0),f(D.name),setTimeout(()=>{var U,T;(U=j.current)==null||U.focus(),(T=j.current)==null||T.setSelectionRange(-1,-1)},0)},M=D=>{a({...i,name:D?i.name:b},{update:!0}),h(!1),m(!1),z()},A=()=>{let D={name:`WatchList_${r.length}`,id:Date.now()};a(D,{add:!0}),l(D),z(),k()},V=D=>{a(D,{delete:!0}),setTimeout(()=>{let U=o.map($=>{var G;return{...$,tabs:(G=$.tabs)==null?void 0:G.filter(te=>te.id!==D.id)}});c(U);let T=r.filter($=>$.id!==D.id),F=(T==null?void 0:T[(T==null?void 0:T.length)-1])||(T==null?void 0:T[0]);l(F)},0)};return p.useEffect(()=>{var D;if(b){let U=(D=S.current)==null?void 0:D.getBoundingClientRect(),T=n==="sm"?0:14;w(Math.max(((U==null?void 0:U.width)||0)+T,50))}},[b]),p.useEffect(()=>{z()},[]),{favorite:s,open:u,setOpen:m,container:g,inputRef:j,inputWidth:I,spanRef:S,editing:d,value:b,onValueChange:f,onEdit:_,updateCurTab:M,addTab:A,delTab:V,scrollable:x}}var Qt=e=>{let{className:s,...n}=e,o=js(n);return t.jsx(vs,{...o,size:e.size,className:s})},ys=Yt,ws=e=>{let{dataSource:s,favorite:n,onSort:o,loading:r,pagination:i}=e,{symbol:a,onSymbolChange:l}=R(),c=ys(n,!0);return t.jsxs("div",{children:[t.jsx(Qt,{favorite:n,className:"oui-my-3"}),t.jsx(ue,{bordered:!0,columns:c,dataSource:s,emptyView:t.jsxs(N,{children:[t.jsx(y,{size:"xs",intensity:36,children:"Click on the"}),t.jsx(tt,{className:"oui-text-base-contrast-36"}),t.jsx(y,{size:"xs",intensity:36,children:"icon next to a market to add it to your list."})]}),loading:r,onRow:(u,m)=>({className:O("oui-h-[55px] oui-cursor-pointer"),onClick:()=>{l==null||l(u),n.addToHistory(u)}}),generatedRowKey:u=>u.symbol,rowSelection:{[a]:!0},onSort:o,pagination:i,manualSorting:!0})]})},Ss=()=>{let{setPage:e,pagination:s}=Re({pageSize:10}),[n,o]=le(ce.FAVORITES),[r,i]=p.useState(!0),{favorites:a,selectedFavoriteTab:l}=o,{searchValue:c}=R(),{onSort:u,getSortedList:m}=de(),d=p.useMemo(()=>{var f,x;let b=(x=(f=a==null?void 0:a.filter(v=>{var g;return((g=v.tabs)==null?void 0:g.findIndex(j=>j.id===l.id))!==-1}))==null?void 0:f.map(v=>{let g=n==null?void 0:n.findIndex(j=>j.symbol===v.name);return g!==-1?n[g]:null}))==null?void 0:x.filter(v=>v);return he(b,c)},[n,l,a,c]),h=p.useMemo(()=>m(d),[d,m]);return p.useEffect(()=>{i(!1)},[a]),p.useEffect(()=>{e(1)},[c]),{loading:r,dataSource:h,favorite:o,onSort:u,pagination:s}},Ns=()=>{let e=Ss();return t.jsx(ws,{...e})},Cs=e=>{let{activeTab:s,onTabChange:n}=e,{searchValue:o,onSearchValueChange:r,clearSearchValue:i}=R();return t.jsx(L,{id:"oui-markets-list",intensity:900,p:6,r:"2xl",children:t.jsxs(Ie,{variant:"contained",size:"xl",value:s,onValueChange:n,trailing:t.jsx(be,{value:o,onValueChange:r,placeholder:"Search market",className:"oui-w-[240px] oui-my-1",size:"sm","data-testid":"oui-testid-markets-searchMarket-input",prefix:t.jsx(L,{pl:3,pr:1,children:t.jsx(Ae,{className:"oui-text-base-contrast-36"})}),suffix:o&&t.jsx(L,{mr:2,children:t.jsx(ze,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:i})}),autoComplete:"off"}),children:[t.jsx(q,{title:"Favorites",icon:t.jsx(Be,{}),value:"favorites",testid:"oui-testid-markets-favorites-tab",children:t.jsx(Ns,{})}),t.jsx(q,{title:"All markets",icon:t.jsx(Zn,{}),value:"all",testid:"oui-testid-markets-all-tab",children:t.jsx(zt,{type:"all",sortKey:"24h_amount",sortOrder:"desc"})}),t.jsx(q,{title:"New listings",icon:t.jsx(Jn,{}),value:"new",testid:"oui-testid-markets-newListings-tab",children:t.jsx(zt,{type:"new",sortKey:"created_time",sortOrder:"desc"})})]})})};function ks(){let[e,s]=p.useState("all"),{clearSearchValue:n}=R();return p.useEffect(()=>{n==null||n()},[e]),{activeTab:e,onTabChange:o=>s(o)}}var Ts=()=>{let e=ks();return t.jsx(Cs,{...e})},He=(e,s=!1)=>[{title:"Market / Volume",dataIndex:"24h_amount",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>{let r;return s||(r=t.jsx(Ue,{row:o,favorite:e,children:t.jsx(N,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:o.isFavorite?t.jsx(ut,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})})),t.jsxs(N,{children:[r,t.jsxs(N,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(N,{gapX:1,children:[t.jsx(we,{symbol:o.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:o.symbol}),t.jsxs(_e,{size:"xs",color:"primary",children:[o.leverage,"x"]})]}),t.jsx(y.numeral,{intensity:54,size:"2xs",rule:"human",dp:2,rm:P.ROUND_DOWN,children:n})]})]})}},{title:"Price / change",dataIndex:"change",align:"right",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>{let r=l=>{e.updateSymbolFavoriteState(o,e.selectedFavoriteTab,!0),l.stopPropagation()},i="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",a=t.jsx("div",{className:O("oui-absolute oui-right-0 oui-top-[6.5px]","oui-hidden group-hover:oui-block"),children:t.jsxs(N,{className:O("oui-inline-flex","oui-bg-primary-darken oui-py-[6px]"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:i,onClick:l=>{l.stopPropagation(),e.pinToTop(o)}}),t.jsx(ft,{className:i,onClick:r})]})});return t.jsxs("div",{className:"oui-relative",children:[s&&a,t.jsxs(N,{direction:"column",justify:"end",itemAlign:"end",gapY:1,className:O(s&&"group-hover:oui-invisible"),children:[t.jsx(y.numeral,{dp:o.quote_dp||2,size:"2xs",children:o["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:n})]})]})}}],Ke=e=>{var o;let{symbol:s,onSymbolChange:n}=R();return t.jsx("div",{className:"oui-overflow-y-auto oui-custom-scrollbar oui-h-full",children:t.jsx(N,{direction:"column",px:2,gapY:1,children:(o=e.dataSource)==null?void 0:o.map(r=>{let i=t.jsxs(N,{intensity:800,p:2,className:"oui-gap-x-7",r:"base",children:[t.jsxs(N,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(N,{gapX:1,children:[t.jsx(we,{symbol:r.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:r.symbol})]}),t.jsx(y,{size:"2xs",intensity:36,children:"Price"}),t.jsx(y,{size:"2xs",intensity:36,children:"24h change"})]}),t.jsxs(N,{direction:"column",itemAlign:"end",gapY:1,children:[t.jsxs(_e,{size:"xs",color:"primary",children:[r.leverage,"x"]}),t.jsx(y.numeral,{dp:r.quote_dp||2,currency:"$",size:"2xs",intensity:80,children:r["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:r.change})]})]});return t.jsx(ge,{side:"right",sideOffset:6,content:i,delayDuration:0,children:t.jsxs(N,{direction:"column",justify:"center",itemAlign:"center",gapY:1,width:54,height:54,r:"lg",className:O("oui-cursor-pointer","hover:oui-bg-base-7",s===r.symbol&&"oui-bg-base-6 hover:oui-bg-base-6"),onClick:()=>{n==null||n(r)},children:[t.jsx(we,{symbol:r.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:r.change})]})},r.symbol)})})})},Os=e=>{var m,d,h,b;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=R(),u=p.useMemo(()=>typeof i=="function"?i(n,!0):He(n,!0),[n]);return a?t.jsx(Ke,{dataSource:s}):t.jsxs(t.Fragment,{children:[t.jsx(L,{px:3,className:"oui-my-[6px]",children:t.jsx(Qt,{favorite:n,size:"sm"})}),t.jsx(ue,{classNames:{root:(m=e.tableClassNames)==null?void 0:m.root,body:(d=e.tableClassNames)==null?void 0:d.body,header:O("oui-h-9",(h=e.tableClassNames)==null?void 0:h.header),scroll:(b=e.tableClassNames)==null?void 0:b.scroll},columns:u,dataSource:s,loading:r,onRow:(f,x)=>({className:O("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})]})},Is=()=>{let[e,s]=le(ce.FAVORITES),[n,o]=p.useState(!0),{favorites:r,selectedFavoriteTab:i}=s,{searchValue:a}=R(),{onSort:l,getSortedList:c}=de(),u=p.useMemo(()=>{var h,b;let m=(b=(h=r==null?void 0:r.filter(f=>{var x;return((x=f.tabs)==null?void 0:x.findIndex(v=>v.id===i.id))!==-1}))==null?void 0:h.map(f=>{let x=e==null?void 0:e.findIndex(v=>v.symbol===f.name);return x!==-1?e[x]:null}))==null?void 0:b.filter(f=>f),d=he(m,a);return c(d)},[e,i,r,a,c]);return p.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:u,favorite:s,onSort:l}},mt=e=>{let s=Is();return t.jsx(Os,{...s,...e})},zs=e=>{var d,h,b,f;let{loading:s,dataSource:n,favorite:o,onSort:r,initialSort:i,getColumns:a,collapsed:l}=e,{symbol:c,onSymbolChange:u}=R(),m=p.useMemo(()=>typeof a=="function"?a(o,!1):He(o,!1),[o]);return l?t.jsx(Ke,{dataSource:n}):t.jsx(ue,{classNames:{root:(d=e.tableClassNames)==null?void 0:d.root,body:(h=e.tableClassNames)==null?void 0:h.body,header:O("oui-h-9",(b=e.tableClassNames)==null?void 0:b.header),scroll:(f=e.tableClassNames)==null?void 0:f.scroll},columns:m,loading:s,dataSource:n,onRow:(x,v)=>({className:O("oui-h-[53px]",e.rowClassName),onClick:()=>{u==null||u(x),o.addToHistory(x)}}),generatedRowKey:x=>x.symbol,rowSelection:{[c]:!0},onSort:r,initialSort:i,manualSorting:!0})},_s=e=>{let[s,n]=p.useState(!0),[o,r]=le(ce.ALL),{searchValue:i}=R(),{onSort:a,getSortedList:l}=de(e==null?void 0:e.sortKey,e==null?void 0:e.sortOrder,e.onSort),c=p.useMemo(()=>{let u=he(o,i);return l(u)},[o,l,i]);return p.useEffect(()=>{n(!1)},[o]),{loading:s,dataSource:c,favorite:r,onSort:a}},$e=e=>{let s=_s(e);return t.jsx(zs,{...s,initialSort:{sortKey:e.sortKey,sort:e.sortOrder},getColumns:e.getColumns,collapsed:e.collapsed,tableClassNames:e.tableClassNames,rowClassName:e.rowClassName})},Ms=e=>{var m,d,h,b;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=R(),u=p.useMemo(()=>typeof i=="function"?i(n,!1):He(n,!1),[n]);return a?t.jsx(Ke,{dataSource:s}):t.jsx(ue,{classNames:{root:(m=e.tableClassNames)==null?void 0:m.root,body:(d=e.tableClassNames)==null?void 0:d.body,header:O("oui-h-9",(h=e.tableClassNames)==null?void 0:h.header),scroll:(b=e.tableClassNames)==null?void 0:b.scroll},columns:u,dataSource:s,loading:r,onRow:(f,x)=>({className:O("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})},Ls=()=>{let[e,s]=le(ce.RECENT),[n,o]=p.useState(!0),{searchValue:r}=R(),{onSort:i,getSortedList:a}=de(),l=p.useMemo(()=>{let c=he(e,r);return a(c)},[e,r,a]);return p.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:l,favorite:s,onSort:i}},xt=e=>{let s=Ls();return t.jsx(Ms,{...s,...e})},As=e=>{var m,d,h,b;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=R(),u=p.useMemo(()=>typeof i=="function"?i(n,!1):He(n,!1),[n]);return a?t.jsx(Ke,{dataSource:s}):t.jsx(ue,{classNames:{root:(m=e.tableClassNames)==null?void 0:m.root,body:(d=e.tableClassNames)==null?void 0:d.body,header:O("oui-h-9",(h=e.tableClassNames)==null?void 0:h.header),scroll:(b=e.tableClassNames)==null?void 0:b.scroll},columns:u,dataSource:s,loading:r,onRow:(f,x)=>({className:O("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})},Ds=()=>{let[e,s]=le(ce.NEW_LISTING),[n,o]=p.useState(!0),{searchValue:r}=R(),{onSort:i,getSortedList:a}=de(),l=p.useMemo(()=>{let c=he(e,r);return a(c)},[e,r,a]);return p.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:l,favorite:s,onSort:i}},gt=e=>{let s=Ds();return t.jsx(As,{...s,...e})},Es=e=>{let{activeTab:s,onTabChange:n,tabSort:o,onTabSort:r}=e,{searchValue:i,onSearchValueChange:a,clearSearchValue:l}=R(),c=t.jsx(be,{value:i,onValueChange:a,placeholder:"Search",classNames:{root:"oui-border oui-mt-[1px] oui-border-line"},size:"sm",prefix:t.jsx(L,{pl:3,pr:1,children:t.jsx(Ae,{className:"oui-text-base-contrast-36"})}),suffix:i&&t.jsx(L,{mr:2,children:t.jsx(ze,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:l})}),autoComplete:"off"}),u="oui-h-[calc(100%_-_36px)]";return t.jsxs(L,{className:O("oui-font-semibold oui-overflow-hidden"),height:"100%",children:[t.jsx(L,{px:3,pb:2,children:c}),t.jsxs(Ie,{variant:"contained",size:"md",value:s,onValueChange:n,classNames:{tabsList:O("oui-my-[6px] oui-mx-3 ","oui-overflow-x-scroll oui-hide-scrollbar"),tabsContent:"oui-h-full"},className:u,children:[t.jsx(q,{title:"Favorites",icon:t.jsx(Be,{}),value:"favorites",children:t.jsx("div",{className:u,children:t.jsx(mt,{tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(q,{title:"Recent",value:"recent",children:t.jsx("div",{className:u,children:t.jsx(xt,{tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(q,{title:"All",value:"all",children:t.jsx("div",{className:u,children:t.jsx($e,{type:"all",sortKey:o==null?void 0:o.sortKey,sortOrder:o==null?void 0:o.sortOrder,onSort:r,tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(q,{title:"New listings",value:"newListing",children:t.jsx("div",{className:u,children:t.jsx(gt,{tableClassNames:{scroll:"oui-px-1"}})})})]})]})},_t="24h_amount",Mt="desc";function pt(e){let{storageKey:s,type:n="all",initialSort:o}=e,[r,i]=hn(s,{[n]:{sortKey:(o==null?void 0:o.sortKey)||_t,sortOrder:(o==null?void 0:o.sortOrder)||Mt}}),a=p.useCallback((l=_t,c=Mt)=>{i({...r,all:{sortKey:l,sortOrder:c}})},[]);return{tabSort:r[n],onTabSort:a}}function Vs(e){let[s,n]=p.useState(e==null?void 0:e.activeTab),{tabSort:o,onTabSort:r}=pt({storageKey:"orderly_side_markets_tab_sort"}),{clearSearchValue:i}=R(),a=p.useCallback(l=>{typeof(e==null?void 0:e.onTabChange)=="function"?e.onTabChange(l):n(l)},[e==null?void 0:e.onTabChange]);return p.useEffect(()=>{n((e==null?void 0:e.activeTab)||"favorites")},[e==null?void 0:e.activeTab]),p.useEffect(()=>{i==null||i()},[s]),{activeTab:s,onTabChange:a,tabSort:o,onTabSort:r}}var Fs=e=>{let s=Vs({activeTab:e.activeTab,onTabChange:e.onTabChange});return t.jsx(Le,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(Es,{...s})})},ae=(e=5)=>s=>s===0?t.jsx(y,{children:" - "}):t.jsx(y.numeral,{rule:"percentages",dp:e,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:s}),Ps=(e,s)=>[{title:"Market",dataIndex:"symbol",width:120,render:n=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:n})},{title:"Est. funding",dataIndex:"estFunding",width:120,onSort:!0,render:n=>t.jsxs("div",{children:[t.jsx(y.numeral,{rule:"percentages",dp:5,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:n}),t.jsx("span",{className:"oui-text-base-contrast-54",children:" / 4h "})]})},{title:"Last funding",dataIndex:"lastFunding",width:90,onSort:!0,render:ae()},{title:"1d avg.",dataIndex:"funding1d",width:90,onSort:!0,render:ae()},{title:"3d avg.",dataIndex:"funding3d",width:90,onSort:!0,render:ae()},{title:"7d avg.",dataIndex:"funding7d",width:90,onSort:!0,render:ae()},{title:"14d avg.",dataIndex:"funding14d",width:90,onSort:!0,render:ae()},{title:"30d avg.",dataIndex:"funding30d",width:90,onSort:!0,render:ae()},{title:"90d avg.",dataIndex:"funding90d",width:90,onSort:!0,render:ae()},{title:t.jsxs("div",{className:"oui-flex oui-gap-1",children:[t.jsx("select",{value:e,onChange:n=>s(n.target.value),onClick:n=>n.stopPropagation(),className:"oui-w-12 oui-rounded-md oui-border oui-border-line oui-bg-[var(--oui-table-background-color)]",children:[{label:"1d",value:"1dPositive"},{label:"3d",value:"3dPositive"},{label:"7d",value:"7dPositive"},{label:"14d",value:"14dPositive"},{label:"30d",value:"30dPositive"},{label:"90d",value:"90dPositive"}].map(n=>t.jsx("option",{value:n.value,children:n.label},n.value))}),t.jsx("span",{children:"Positive rate"})]}),dataIndex:e,width:130,align:"right",onSort:!0,render:ae(2)}],Rs=e=>{let{dataSource:s,isLoading:n,pagination:o,onSort:r}=e,[i,a]=p.useState("1dPositive"),l=Ps(i,a);return t.jsx("div",{className:"w-full",children:t.jsx(ue,{columns:l,dataSource:s,loading:n,bordered:!0,onRow:()=>({className:O("oui-h-[48px] oui-cursor-pointer")}),classNames:{header:"oui-h-12"},pagination:o,onSort:r,manualSorting:!0,generatedRowKey:c=>c.symbol})})},Bs=()=>{let{pagination:e}=Re({pageSize:10}),[s]=le(ce.ALL),{data:n,isLoading:o,getPositiveRates:r}=ln(),{onSort:i,getSortedList:a}=de(),{searchValue:l}=R(),c=p.useMemo(()=>{if(!(s!=null&&s.length))return[];let m=["1d","3d","7d","14d","30d","90d"].reduce((d,h)=>(d[h]=r(n,h),d),{});return s.map(d=>{var b,f,x,v,g,j,S,I,w,z,k,_;let h=n==null?void 0:n.find(M=>M.symbol===d.symbol);return{symbol:d.symbol,estFunding:d.est_funding_rate,lastFunding:d.last_funding_rate,funding1d:((f=(b=h==null?void 0:h.funding)==null?void 0:b["1d"])==null?void 0:f.rate)??0,funding3d:((v=(x=h==null?void 0:h.funding)==null?void 0:x["3d"])==null?void 0:v.rate)??0,funding7d:((j=(g=h==null?void 0:h.funding)==null?void 0:g["7d"])==null?void 0:j.rate)??0,funding14d:((I=(S=h==null?void 0:h.funding)==null?void 0:S["14d"])==null?void 0:I.rate)??0,funding30d:((z=(w=h==null?void 0:h.funding)==null?void 0:w["30d"])==null?void 0:z.rate)??0,funding90d:((_=(k=h==null?void 0:h.funding)==null?void 0:k["90d"])==null?void 0:_.rate)??0,"1dPositive":m["1d"][d.symbol]??"-","3dPositive":m["3d"][d.symbol]??"-","7dPositive":m["7d"][d.symbol]??"-","14dPositive":m["14d"][d.symbol]??"-","30dPositive":m["30d"][d.symbol]??"-","90dPositive":m["90d"][d.symbol]??"-"}})},[s,n,r]),u=p.useMemo(()=>he(c,l),[c,l,e]);return{dataSource:p.useMemo(()=>a(u),[u,a]),isLoading:o,pagination:e,onSort:i}},Us=()=>{let e=Bs();return t.jsx(Rs,{...e})},nt=["WOOFi Pro","Binance","OKX","Bybit","dYdX","Bitget","Kucoin"],Hs=()=>{let{pagination:e}=Re({pageSize:10}),{onSort:s,getSortedList:n}=de(),{searchValue:o}=R(),r=cn(),{data:i,isLoading:a}=At("/v1/public/market_info/funding_comparison"),l=p.useMemo(()=>i!=null&&i.length?i.map(u=>{let m={symbol:u.symbol};return nt.forEach((d,h)=>{let b=d.toLowerCase();if(b==="woofi pro"){let x=r[u.symbol];m[`exchange_${h}`]=x("last_funding_rate")??null;return}let f=u.exchanges.find(x=>x.name.toLowerCase()===b);m[`exchange_${h}`]=(f==null?void 0:f.last)??null}),m}):[],[i,nt,r]),c=p.useMemo(()=>he(l,o),[l,o,e]);return{data:p.useMemo(()=>n(c),[c,n]),isLoading:a,pagination:e,onSort:s}},Ks=()=>[{title:"Market",dataIndex:"symbol",width:150,onSort:!0,render:e=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:e})},...nt.map((e,s)=>({title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("img",{src:`https://oss.orderly.network/static/exchange_logo/${e.toLowerCase().replace(" ","_")}.png`,style:{width:"24px",height:"24px",objectFit:"cover",borderRadius:"50%"}}),t.jsx("span",{children:e})]}),dataIndex:`exchange_${s}`,width:100,render:n=>n===null?"-":t.jsx(y.numeral,{rule:"percentages",dp:5,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:n})}))],$s=({data:e,isLoading:s,pagination:n})=>{let o=Ks();return t.jsx(ue,{columns:o,dataSource:e,loading:s,onRow:()=>({className:O("oui-h-[48px] oui-cursor-pointer")}),classNames:{header:"oui-h-12"},bordered:!0,pagination:n})},Ws=()=>{let e=Hs();return t.jsx($s,{...e})},Xs=e=>{let{collapsable:s,collapsed:n,onCollapse:o,activeTab:r,onTabChange:i,className:a}=e,{symbol:l,onSymbolChange:c}=R(),u=()=>n?r==="favorites"?t.jsx(mt,{collapsed:n}):r==="recent"?t.jsx(xt,{collapsed:n}):r==="newListing"?t.jsx(gt,{collapsed:n}):t.jsx($e,{type:"all",sortKey:"24h_amount",sortOrder:"desc",collapsed:n}):t.jsx(Fs,{activeTab:r,onTabChange:i,symbol:l,onSymbolChange:c});return t.jsxs(N,{className:O("oui-font-semibold",a),direction:"column",gapY:5,height:"100%",width:"100%",children:[t.jsx(qs,{collapsable:s,collapsed:n,onCollapse:o}),t.jsx(L,{width:"100%",className:O(n?"oui-h-[calc(100%_-_52px)]":"oui-h-[calc(100%_-_56px)]"),children:u()})]})},qs=e=>{let{collapsable:s,collapsed:n,onCollapse:o}=e,r=O("oui-text-base-contrast-36",s?"oui-cursor-pointer hover:oui-text-base-contrast-80":"oui-cursor-not-allowed");return n?t.jsx(ss,{className:r,onClick:()=>{s&&(o==null||o(!1))}}):t.jsxs(N,{justify:"between",px:3,width:"100%",children:[t.jsx(y,{size:"base",intensity:80,children:"Markets"}),t.jsx(os,{className:r,onClick:()=>{s&&(o==null||o(!0))}})]})};function Gs(e){let[s,n]=p.useState(e==null?void 0:e.collapsed),[o,r]=Vt("orderly_side_markets_sel_tab_key","all"),i=p.useMemo(()=>(e==null?void 0:e.collapsable)??!0,[e==null?void 0:e.collapsable]),a=p.useCallback(l=>{typeof(e==null?void 0:e.onCollapse)=="function"?e.onCollapse(l):n(l)},[e==null?void 0:e.onCollapse]);return p.useEffect(()=>{n(e==null?void 0:e.collapsed)},[e==null?void 0:e.collapsed]),{collapsable:i,collapsed:s,onCollapse:a,activeTab:o,onTabChange:r}}var xo=e=>{let s=Gs({collapsable:e.collapsable,collapsed:e.collapsed,onCollapse:e.onCollapse});return t.jsx(Le,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(Xs,{...s,className:e.className})})},Ee=(e,s=!1)=>[{title:"Symbol",dataIndex:"symbol",width:150,render:(n,o)=>{let r;return s||(r=t.jsx(Ue,{row:o,favorite:e,children:t.jsx(N,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:o.isFavorite?t.jsx(ut,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})})),t.jsxs(N,{gapX:1,children:[r,t.jsx(we,{symbol:n,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:n}),t.jsxs(_e,{size:"xs",color:"primary",children:[o.leverage,"x"]})]})}},{title:"Last",dataIndex:"24h_close",align:"right",onSort:!0,width:100,render:(n,o)=>t.jsx(y.numeral,{dp:o.quote_dp||2,size:"2xs",children:n})},{title:"24h%",dataIndex:"change",align:"right",onSort:!0,width:80,render:n=>t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:n})},{title:"Volume",dataIndex:"24h_amount",align:"right",onSort:!0,className:"oui-relative",width:80,render:(n,o)=>{let r=l=>{e.updateSymbolFavoriteState(o,e.selectedFavoriteTab,!0),l.stopPropagation()},i="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",a=t.jsx("div",{className:O("oui-absolute oui-right-1 oui-top-[3px]"),children:t.jsxs(N,{className:O("oui-bg-primary-darken oui-py-[6px]","oui-hidden group-hover:oui-inline-flex"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:i,onClick:l=>{l.stopPropagation(),e.pinToTop(o)}}),t.jsx(ft,{className:i,onClick:r})]})});return t.jsxs(t.Fragment,{children:[s&&a,t.jsx(y.numeral,{rule:"human",dp:2,rm:P.ROUND_DOWN,className:O(s&&"group-hover:oui-invisible"),children:n})]})}}],Ys=e=>t.jsxs(Rt,{open:e.open,onOpenChange:e.onOpenChange,children:[t.jsx(Bt,{asChild:!0,children:e.children}),t.jsx(Ut,{children:t.jsx(Ht,{onCloseAutoFocus:s=>s.preventDefault(),onClick:s=>s.stopPropagation(),align:"start",alignOffset:-32,sideOffset:20,className:O("oui-markets-dropdown-menu-content oui-bg-base-8 oui-p-0",e.contentClassName),children:t.jsx(Qs,{...e,hide:e.hide})})})]}),Qs=e=>{let{activeTab:s,onTabChange:n,tabSort:o,onTabSort:r}=e,{searchValue:i,onSearchValueChange:a}=R(),l=t.jsxs(N,{mx:3,gapX:3,pt:3,pb:2,children:[t.jsx(be,{value:i,onValueChange:a,placeholder:"Search",classNames:{root:"oui-border oui-mt-[1px] oui-border-line oui-flex-1"},size:"sm",prefix:t.jsx(L,{pl:3,pr:1,children:t.jsx(Ae,{className:"oui-text-base-contrast-36"})}),autoComplete:"off"}),t.jsx(Pt,{size:12,className:"oui-text-base-contrast-80 oui-cursor-pointer",onClick:e.hide,opacity:1})]}),c="oui-h-[calc(100%_-_36px)]";return t.jsxs(L,{className:O("oui-font-semibold oui-overflow-hidden"),height:"100%",intensity:800,children:[l,t.jsxs(Ie,{variant:"contained",size:"md",value:s,onValueChange:n,classNames:{tabsList:"oui-my-[6px] oui-px-3",tabsContent:"oui-h-full"},className:c,children:[t.jsx(q,{title:"Favorites",icon:t.jsx(Be,{}),value:"favorites",children:t.jsx("div",{className:c,children:t.jsx(mt,{getColumns:Ee,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(q,{title:"Recent",value:"recent",children:t.jsx("div",{className:c,children:t.jsx(xt,{getColumns:Ee,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(q,{title:"All",value:"all",children:t.jsx("div",{className:c,children:t.jsx($e,{type:"all",sortKey:o==null?void 0:o.sortKey,sortOrder:o==null?void 0:o.sortOrder,onSort:r,getColumns:Ee,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(q,{title:"New listings",value:"newListing",children:t.jsx("div",{className:c,children:t.jsx(gt,{getColumns:Ee,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})})]})]})};function Zs(e){let[s,n]=p.useState(!1),[o,r]=Vt("orderly_dropdown_markets_sel_tab_key","all"),{tabSort:i,onTabSort:a}=pt({storageKey:"orderly_dropdown_markets_tab_sort"}),{clearSearchValue:l}=R(),c=()=>{n(!1)};return p.useEffect(()=>{l==null||l()},[o]),{activeTab:o,onTabChange:u=>r(u),open:s,onOpenChange:n,hide:c,tabSort:i,onTabSort:a}}var Js=e=>{let s=Zs();return t.jsx(Le,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(Ys,{...s,contentClassName:e.contentClassName,children:e.children})})},eo=(e,s=!1)=>[{title:"Market / Volume",dataIndex:"24h_amount",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>t.jsxs(N,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(N,{gapX:1,children:[t.jsx(we,{symbol:o.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:o.symbol}),t.jsxs(_e,{size:"xs",color:"primary",children:[o.leverage,"x"]})]}),t.jsx(y.numeral,{intensity:54,rule:"human",dp:2,rm:P.ROUND_DOWN,children:n})]})},{title:"Price / change",dataIndex:"change",align:"right",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>{let r=l=>{e.updateSymbolFavoriteState(o,e.selectedFavoriteTab,!0),l.stopPropagation()},i="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",a=t.jsx("div",{className:O("oui-absolute oui-right-0 oui-top-[6.5px]","oui-hidden group-hover:oui-block"),children:t.jsxs(N,{className:O("oui-inline-flex","oui-bg-primary-darken oui-py-[6px]"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:i,onClick:l=>{l.stopPropagation(),e.pinToTop(o)}}),t.jsx(ft,{className:i,onClick:r})]})});return t.jsxs("div",{className:"oui-relative",children:[s&&a,t.jsxs(N,{direction:"column",justify:"end",itemAlign:"end",gapY:1,className:O(s&&"group-hover:oui-invisible"),children:[t.jsx(y.numeral,{dp:o.quote_dp||2,size:"2xs",children:o["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:n})]})]})}}],to=e=>{let{className:s,tabSort:n,onTabSort:o}=e,{searchValue:r,onSearchValueChange:i,clearSearchValue:a}=R(),l=t.jsx(be,{value:r,onValueChange:i,placeholder:"Search",classNames:{root:"oui-border oui-border-line oui-mt-4"},size:"sm",prefix:t.jsx(L,{pl:3,pr:1,children:t.jsx(Ae,{className:"oui-text-base-contrast-36"})}),suffix:r&&t.jsx(L,{mr:2,children:t.jsx(ze,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:a})}),autoComplete:"off"});return t.jsxs(un,{cols:1,className:O("oui-font-semibold oui-grid-rows-[auto,1fr]",s),height:"100%",width:"100%",children:[t.jsxs(L,{px:3,mt:3,children:[t.jsx(y,{size:"base",intensity:80,children:"Markets"}),l]}),t.jsx("div",{className:"oui-relative",children:t.jsx(L,{width:"100%",mt:2,className:"oui-absolute oui-left-0 oui-right-9 oui-top-0 oui-bottom-0",children:t.jsx($e,{type:"all",sortKey:n==null?void 0:n.sortKey,sortOrder:n==null?void 0:n.sortOrder,onSort:o,getColumns:eo,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-[calc(env(safe-area-inset-bottom))]"}})})})]})};function no(e){let{tabSort:s,onTabSort:n}=pt({storageKey:"orderly_side_markets_tab_sort"});return{tabSort:s,onTabSort:n}}var go=e=>{let s=no();return t.jsx(Le,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(to,{...s,className:e.className})})},so=e=>{let{symbol:s,data:n,leverage:o,onSymbol:r}=e,i=t.jsxs(N,{className:"oui-cursor-pointer oui-gap-x-[6px]",onClick:r,children:[t.jsx(y.formatted,{className:"oui-break-normal oui-whitespace-nowrap",rule:"symbol",formatString:"base-type",size:"sm",weight:"semibold",showIcon:!0,children:s}),t.jsx(Gt,{className:"oui-text-base-contrast-54 oui-w-[14px] oui-h-[14px]"})]});return t.jsxs(N,{className:O("oui-symbol-info-bar-mobile","oui-font-semibold oui-h-full",e.className),children:[t.jsxs(N,{gapX:3,className:"oui-flex-1 oui-overflow-hidden oui-h-full",children:[t.jsxs(N,{gapX:3,children:[i,t.jsxs(_e,{size:"xs",color:"primary",children:[o,"x"]})]}),t.jsx(st,{className:"oui-h-6",direction:"vertical",intensity:8}),t.jsx(y.numeral,{size:"2xs",rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:n==null?void 0:n.change})]}),e.trailing]})};function oo(e){let{symbol:s}=e,n=Dt(s),o=Et(),r=p.useMemo(()=>{let i=o[s],a=i("base_imr");return ro(a)},[s,o]);return{symbol:s,data:n,leverage:r}}function ro(e){return e?1/e:void 0}var po=e=>{let{symbol:s,...n}=e,o=oo({symbol:s});return t.jsx(so,{...o,...n})},io=e=>{let{symbol:s,isFavorite:n,favorite:o,data:r,quotoDp:i,openInterest:a,fundingRate:l,containerRef:c,leadingElementRef:u,tailingElementRef:m,leadingVisible:d,tailingVisible:h,onScoll:b}=e,f=t.jsx(Ue,{row:{symbol:s},favorite:o,children:t.jsx(N,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:n?t.jsx(ut,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})}),x=t.jsx(Js,{contentClassName:"oui-w-[429px] oui-h-[496px]",symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsxs(N,{gapX:1,className:"oui-cursor-pointer",children:[t.jsx(we,{symbol:s,className:"oui-w-4 oui-h-4"}),t.jsx(y.formatted,{className:"oui-break-normal oui-whitespace-nowrap",rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",intensity:98,children:s}),t.jsx(Gt,{className:"oui-text-base-contrast-54"})]})}),v=t.jsx(y.numeral,{dp:i||2,currency:"$",size:"sm",intensity:98,className:"oui-data-value",children:r==null?void 0:r["24h_close"]}),g=t.jsxs(t.Fragment,{children:[t.jsx(y.numeral,{coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:r==null?void 0:r["24h_change"]}),t.jsx(y,{intensity:36,children:"/"}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:r==null?void 0:r.change})]});return t.jsxs(N,{className:O("oui-symbol-info-bar-desktop","oui-font-semibold oui-h-[54px]",e.className),style:{transform:"translateZ(0)",willChange:"transform"},children:[t.jsxs(N,{gapX:6,className:"oui-flex-1 oui-overflow-hidden oui-h-full",children:[t.jsxs(N,{gapX:1,children:[f,x]}),t.jsx(st,{className:"oui-h-[26px]",direction:"vertical",intensity:8}),v,t.jsxs("div",{className:"oui-relative oui-overflow-hidden oui-h-full",children:[t.jsx("div",{ref:c,className:"oui-overflow-x-auto oui-hide-scrollbar oui-h-full",children:t.jsxs(N,{gapX:8,height:"100%",children:[t.jsx("div",{ref:u,children:t.jsx(ye,{label:"24h Change",value:g})}),t.jsx(ye,{label:"Mark",value:t.jsx(y.numeral,{dp:i,"data-testid":"oui-testid-tokenInfo-markPrice-value",children:r==null?void 0:r.mark_price}),hint:"Price for the computation of unrealized PnL and liquidation."}),t.jsx(ye,{label:"Index",value:t.jsx(y.numeral,{dp:i,children:r==null?void 0:r.index_price}),hint:"Average of the last prices across other exchanges."}),t.jsx(ye,{label:"24h volume",value:t.jsx(y.numeral,{rule:"human",dp:2,children:r==null?void 0:r["24h_amount"]}),hint:"24 hour total trading volume on the Orderly Network."}),t.jsx(ye,{label:"Pred. funding rate",value:t.jsx(ao,{symbol:s}),hint:"Funding rates are payments between traders who are long and short. When positive, long positions pay short positions funding. When negative, short positions pay long positions."}),t.jsx("div",{ref:m,children:t.jsx(ye,{label:"Open interest",value:t.jsxs(t.Fragment,{children:[t.jsx(y.numeral,{rule:"human",dp:2,children:a}),t.jsx(y,{intensity:36,children:" USDC"})]}),hint:"Total size of positions per side."})})]})}),t.jsx(Lt,{leading:!0,onClick:b,visible:d}),t.jsx(Lt,{tailing:!0,onClick:b,visible:h})]})]}),e.trailing]})},ye=e=>t.jsxs(N,{direction:"column",itemAlign:"start",children:[t.jsx(ge,{open:e.hint?void 0:!1,content:e.hint,className:"oui-max-w-[240px] oui-bg-base-6 ",arrow:{className:"oui-fill-base-6"},delayDuration:300,children:t.jsx(y,{size:"2xs",intensity:36,className:O("oui-data-label","oui-break-normal oui-whitespace-nowrap",e.hint&&"oui-cursor-pointer oui-border-b oui-border-dashed oui-border-line-12"),children:e.label})}),t.jsx(y,{size:"2xs",intensity:98,className:O("oui-data-value","oui-leading-[20px] oui-break-normal oui-whitespace-nowrap"),children:e.value})]}),Lt=e=>{let{visible:s,leading:n,tailing:o,onClick:r}=e;return s?t.jsx("button",{onClick:()=>{r==null||r(n?"left":"right")},style:{background:"linear-gradient(90deg, #07080A 0%, rgba(7, 8, 10, 0.60) 65%, rgba(7, 8, 10, 0.00) 100%)"},className:O("oui-flex oui-items-center oui-w-[80px]","oui-absolute oui-top-0 oui-bottom-0 oui-rounded-l",n&&"oui-left-0 oui-pl-1",o&&"oui-right-0 oui-pr-1 oui-rotate-180"),children:t.jsx(rs,{className:"oui-text-base-contrast-54 hover:oui-text-base-contrast-80"})}):null},ao=({symbol:e})=>{let s=Ft(e);return(s==null?void 0:s.est_funding_rate)===null?"--":t.jsxs("div",{className:"",children:[t.jsx(y.numeral,{unit:"%",dp:4,className:"oui-text-[#FF9A2E]",children:s.est_funding_rate}),t.jsx(y,{intensity:36,className:"oui-tabular-nums",children:` in ${s.countDown}`})]})};function lo(e){let{symbol:s}=e,n=Dt(s),o=Ft(s),r=dn(),i=Et()[s]("quote_dp"),[a,l]=p.useState(!1),[c,u]=p.useState(!1),m=p.useRef(null),d=p.useRef(null),h=p.useRef(null),b=p.useMemo(()=>!!r.favorites.find(x=>x.name===s),[r.favorites,s]),f=p.useMemo(()=>new P((n==null?void 0:n.open_interest)??0).mul((n==null?void 0:n.index_price)??0).toDecimalPlaces(2).valueOf(),[n]);return p.useEffect(()=>{let x=new IntersectionObserver(v=>{for(let g=0;g<v.length;g++){let j=v[g];j&&(j.target===d.current&&l(!j.isIntersecting),j.target===h.current&&u(!j.isIntersecting))}});return d.current&&x.observe(d.current),h.current&&x.observe(h.current),()=>{x.disconnect()}},[]),{symbol:s,isFavorite:b,favorite:r,data:n,quotoDp:i,openInterest:f,fundingRate:o,containerRef:m,leadingElementRef:d,tailingElementRef:h,leadingVisible:a,tailingVisible:c,onScoll:x=>{var v,g;x==="left"?(v=m.current)==null||v.scrollBy({left:-100,behavior:"smooth"}):(g=m.current)==null||g.scrollBy({left:100,behavior:"smooth"})}}}var bo=e=>{let{symbol:s,...n}=e,o=lo({symbol:s});return t.jsx(io,{...o,...n})},co=({activeFundingTab:e,onFundingTabChange:s})=>{let{searchValue:n,onSearchValueChange:o,clearSearchValue:r}=R();return t.jsx(L,{id:"oui-funding-list",intensity:900,p:6,mt:4,r:"2xl",children:t.jsxs(Ie,{variant:"contained",size:"lg",value:e,onValueChange:s,trailing:t.jsx(be,{value:n,onValueChange:o,placeholder:"Search symbol",className:"oui-w-[240px] oui-my-1",size:"sm","data-testid":"oui-testid-markets-searchMarket-input",prefix:t.jsx(L,{pl:3,pr:1,children:t.jsx(Ae,{className:"oui-text-base-contrast-36"})}),suffix:n&&t.jsx(L,{mr:2,children:t.jsx(ze,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:r})}),autoComplete:"off"}),children:[t.jsx(q,{title:"Overview",value:"overview",testid:"oui-testid-funding-overview-tab",children:t.jsx(Us,{})}),t.jsx(q,{title:"Comparison",value:"comparison",testid:"oui-testid-funding-comparison-tab",children:t.jsx(Ws,{})})]})})};function uo(){let[e,s]=p.useState("overview");return{activeFundingTab:e,onFundingTabChange:n=>s(n)}}var ho=()=>{let e=uo();return t.jsx(co,{...e})},vo=e=>{let[s,n]=p.useState("markets");return t.jsx(Le,{onSymbolChange:e.onSymbolChange,children:t.jsx(L,{id:"oui-markets-home-page",className:O("oui-font-semibold",e.className),p:6,children:t.jsxs(Ie,{variant:"text",size:"xl",value:s,onValueChange:n,children:[t.jsxs(q,{title:"Markets",value:"markets",testid:"oui-testid-markets-tab",children:[t.jsx(ms,{}),t.jsx(Ts,{})]}),t.jsx(q,{title:"Funding",value:"funding",testid:"oui-testid-funding-tab",children:t.jsx(ho,{})})]})})})};export{go as U,po as X,xo as b,bo as n,vo as v};
